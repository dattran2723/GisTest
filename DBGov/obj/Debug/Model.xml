<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="2.9" DspName="Microsoft.Data.Tools.Schema.Sql.Sql130DatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False" xmlns="http://schemas.microsoft.com/sqlserver/dac/Serialization/2012/02">
	<Header>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="True" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="True" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="130" />
		</CustomData>
		<CustomData Category="Reference" Type="Assembly">
			<Metadata Name="LogicalName" Value="DBGov.dll" />
			<Metadata Name="FileName" Value="D:\PROJECT\GOV\DBGOV\OBJ\DEBUG\DBGOV.DLL" />
			<Metadata Name="AssemblyName" Value="DBGov" />
			<Metadata Name="PermissionSet" Value="SAFE" />
			<Metadata Name="Owner" Value="" />
			<Metadata Name="GenerateSqlClrDdl" Value="True" />
			<Metadata Name="IsVisible" Value="True" />
			<Metadata Name="IsModelAware" Value="True" />
			<Metadata Name="SkipCreationIfEmpty" Value="True" />
			<Metadata Name="AssemblySymbolsName" Value="D:\Project\GOV\DBGov\obj\Debug\DBGov.pdb" />
		</CustomData>
		<CustomData Category="SqlCmdVariables" Type="SqlCmdVariable" />
	</Header>
	<Model>
		<Element Type="SqlDatabaseOptions">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiNullDefaultOn" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsAnsiWarningsOn" Value="True" />
			<Property Name="IsArithAbortOn" Value="True" />
			<Property Name="IsConcatNullYieldsNullOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="PageVerifyMode" Value="3" />
			<Property Name="DefaultLanguage" Value="" />
			<Property Name="DefaultFullTextLanguage" Value="" />
			<Property Name="QueryStoreStaleQueryThreshold" Value="367" />
			<Relationship Name="DefaultFilegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Tag]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Tag].[DaSuDung]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="3" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(newid())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Lop]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Lop].[Id]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="4" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Countries].[ParentId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="5" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Countries].[IsVisible]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="6" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Countries].[IsState]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="7" />
		</Element>
		<Element Type="SqlForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[CauHinhDoiTuongId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="8" />
		</Element>
		<Element Type="SqlForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[LopId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Lop].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Lop]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="9" />
		</Element>
		<Element Type="SqlForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[LopCauHinhDoiTuong].[CauHinhDoiTuongId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[LopCauHinhDoiTuong]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="10" />
		</Element>
		<Element Type="SqlForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[LopCauHinhDoiTuong].[LopId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[LopCauHinhDoiTuong]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Lop].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Lop]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="11" />
		</Element>
		<Element Type="SqlForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[CauHinhDoiTuongId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="12" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="13" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ThongTinBuildingDoiTuong].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ThongTinBuildingDoiTuong]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="14" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PhanKhuTag].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PhanKhuTag]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="15" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[LopCauHinhDoiTuong].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[LopCauHinhDoiTuong]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="16" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Countries].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="17" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="18" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[CauHinhDoiTuong].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="19" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[__MigrationHistory]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[__MigrationHistory].[MigrationId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="150" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[__MigrationHistory].[ContextKey]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="300" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[__MigrationHistory].[Model]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varbinary]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[__MigrationHistory].[ProductVersion]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="32" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="20" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AspNetRoles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetRoles].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetRoles].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="21" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AspNetUserClaims]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUserClaims].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUserClaims].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUserClaims].[ClaimType]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUserClaims].[ClaimValue]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="22" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AspNetUserLogins]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUserLogins].[LoginProvider]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUserLogins].[ProviderKey]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUserLogins].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="23" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AspNetUserRoles]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUserRoles].[UserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUserRoles].[RoleId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="24" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AspNetUsers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUsers].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="128" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUsers].[Email]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUsers].[EmailConfirmed]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUsers].[PasswordHash]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUsers].[SecurityStamp]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUsers].[PhoneNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUsers].[PhoneNumberConfirmed]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUsers].[TwoFactorEnabled]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUsers].[LockoutEndDateUtc]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUsers].[LockoutEnabled]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUsers].[AccessFailedCount]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspNetUsers].[UserName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="25" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[CauHinhDoiTuong]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CauHinhDoiTuong].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CauHinhDoiTuong].[Ten]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CauHinhDoiTuong].[Mota]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CauHinhDoiTuong].[Status]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="19" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ChiTietCauHinhDoiTuong]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ChiTietCauHinhDoiTuong].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ChiTietCauHinhDoiTuong].[Ten]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ChiTietCauHinhDoiTuong].[Code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ChiTietCauHinhDoiTuong].[KieuDuLieu]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ChiTietCauHinhDoiTuong].[DuLieuMacDinh]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ChiTietCauHinhDoiTuong].[BatBuoc]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="26" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ChiTietCauHinhDoiTuong].[Mota]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ChiTietCauHinhDoiTuong].[Status]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ChiTietCauHinhDoiTuong].[TrangThaiThuocTinh]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ChiTietCauHinhDoiTuong].[CauHinhDoiTuongId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ChiTietCauHinhDoiTuong].[Order]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="18" />
			<AttachedAnnotation Disambiguator="12" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Countries]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[Name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[Description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[Level]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[Type]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[ParentId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="5" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[ModuleId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[IsVisible]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="6" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[CreatedOnDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[CreatedByUserId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[LastModifiedOnDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[LastModifiedByUserId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[IsState]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="7" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[Code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[Lat]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[Lng]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Countries].[NameKhongDau]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="17" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[danhSachTinhThanh]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
     SELECT *
     FROM ThongTinDoiTuongChinh
		 WHERE DiaGioiHanhChinhCode = 001032
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="141" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE danhSachTinhThanh   &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[DeleteThongTinCauHinh]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	BEGIN TRANSACTION Dele1
		BEGIN TRY
			Delete ThongTinVeDoiTuong where ThongTinDoiTuongChinhId = @id
			Delete ThongTinDoiTuongPhu where ThongTinDoiTuongChinhId = @id
			Delete ThongTinLatLngDoiTuong where Id = @id
			Delete ThongTinDoiTuongChinh where id=@id
		COMMIT TRANSACTION Dele1
	END TRY
	BEGIN CATCH
	  ROLLBACK TRANSACTION Dele1
	END CATCH  
	select COUNT(*) from ThongTinDoiTuongChinh where id=@id
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DeleteThongTinCauHinh].[@id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[DeleteThongTinCauHinh].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="502" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DeleteThongTinCauHinh]&#xD;&#xA; @id varchar(50)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_CauHinhDoiTuong_BatBuoc]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[BatBuoc]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="26" />
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[fChuyenCoDauThanhKhongDau]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[fChuyenCoDauThanhKhongDau].[@inputVar]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN    
    IF (@inputVar IS NULL OR @inputVar = '')  RETURN ''
   
    DECLARE @RT NVARCHAR(MAX)
    DECLARE @SIGN_CHARS NCHAR(256)
    DECLARE @UNSIGN_CHARS NCHAR (256)
 
    SET @SIGN_CHARS = N'ăâđêôơưàảãạáằẳẵặắầẩẫậấèẻẽẹéềểễệếìỉĩịíòỏõọóồổỗộốờởỡợớùủũụúừửữựứỳỷỹỵýĂÂĐÊÔƠƯÀẢÃẠÁẰẲẴẶẮẦẨẪẬẤÈẺẼẸÉỀỂỄỆẾÌỈĨỊÍÒỎÕỌÓỒỔỖỘỐỜỞỠỢỚÙỦŨỤÚỪỬỮỰỨỲỶỸỴÝ' + NCHAR(272) + NCHAR(208)
    SET @UNSIGN_CHARS = N'aadeoouaaaaaaaaaaaaaaaeeeeeeeeeeiiiiiooooooooooooooouuuuuuuuuuyyyyyAADEOOUAAAAAAAAAAAAAAAEEEEEEEEEEIIIIIOOOOOOOOOOOOOOOUUUUUUUUUUYYYYYDD'
 
    DECLARE @COUNTER int
    DECLARE @COUNTER1 int
   
    SET @COUNTER = 1
    WHILE (@COUNTER <= LEN(@inputVar))
    BEGIN  
        SET @COUNTER1 = 1
        WHILE (@COUNTER1 <= LEN(@SIGN_CHARS) + 1)
        BEGIN
            IF UNICODE(SUBSTRING(@SIGN_CHARS, @COUNTER1,1)) = UNICODE(SUBSTRING(@inputVar,@COUNTER ,1))
            BEGIN          
                IF @COUNTER = 1
                    SET @inputVar = SUBSTRING(@UNSIGN_CHARS, @COUNTER1,1) + SUBSTRING(@inputVar, @COUNTER+1,LEN(@inputVar)-1)      
                ELSE
                    SET @inputVar = SUBSTRING(@inputVar, 1, @COUNTER-1) +SUBSTRING(@UNSIGN_CHARS, @COUNTER1,1) + SUBSTRING(@inputVar, @COUNTER+1,LEN(@inputVar)- @COUNTER)
                BREAK
            END
            SET @COUNTER1 = @COUNTER1 +1
        END
        SET @COUNTER = @COUNTER +1
    END
    -- SET @inputVar = replace(@inputVar,' ','-')
    RETURN @inputVar
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1577" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[fChuyenCoDauThanhKhongDau](@inputVar NVARCHAR(MAX) )&#xD;&#xA;RETURNS NVARCHAR(MAX)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[fChuyenCoDauThanhKhongDau].[@inputVar]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="IsMax" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[nvarchar]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK__ThongTinD__Thong__3F466844]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="27" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK__ThongTinV__Thong__4222D4EF]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="28" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetAllCodeByDiaGioiHanhChinhCodeAndType]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	select distinct ThongTinDoiTuongPhu.Value 
	from ThongTinDoiTuongPhu inner join ThongTinDoiTuongChinh on ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId = ThongTinDoiTuongChinh.Id
	where ThongTinDoiTuongChinh.DiaGioiHanhChinhCode = @diaGioiHanhChinhCode and ThongTinDoiTuongPhu.KieuDuLieu like '%'+@type+'%' 
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAllCodeByDiaGioiHanhChinhCodeAndType].[@diaGioiHanhChinhCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAllCodeByDiaGioiHanhChinhCodeAndType].[@type]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAllCodeByDiaGioiHanhChinhCodeAndType].[@diaGioiHanhChinhCode]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAllCodeByDiaGioiHanhChinhCodeAndType].[@type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="446" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetAllCodeByDiaGioiHanhChinhCodeAndType]&#xD;&#xA;&#x9;@diaGioiHanhChinhCode nvarchar(20),&#xD;&#xA;&#x9;@type varchar(200)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetAllDoiTuongChinhByCodeAndType]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	select 
		ThongTinDoiTuongChinh.Id, 
		ThongTinDoiTuongChinh.CauHinhDoiTuongId, 
		ThongTinDoiTuongChinh.DiaGioiHanhChinhCode,
		ThongTinDoiTuongChinh.Lat,
		ThongTinDoiTuongChinh.Lng,
		ThongTinDoiTuongChinh.LopId,
		ThongTinDoiTuongChinh.SoThua,
		ThongTinDoiTuongChinh.SoTo,
		ThongTinDoiTuongChinh.Ten
	from
	ThongTinDoiTuongChinh inner join ThongTinDoiTuongPhu on ThongTinDoiTuongChinh.Id = ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId
	where ThongTinDoiTuongPhu.Value = @code and ThongTinDoiTuongPhu.KieuDuLieu like '%'+@type+'%'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[CauHinhDoiTuongId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[SoThua]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[SoTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAllDoiTuongChinhByCodeAndType].[@code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAllDoiTuongChinhByCodeAndType].[@type]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAllDoiTuongChinhByCodeAndType].[@code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAllDoiTuongChinhByCodeAndType].[@type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="663" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetAllDoiTuongChinhByCodeAndType]&#xD;&#xA;&#x9;@code varchar(100),&#xD;&#xA;&#x9;@type varchar(200)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetAllShapeJsonByCodeAndType]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	select ThongTinVeDoiTuong.ThongTinDoiTuongChinhId as Id, ThongTinVeDoiTuong.DuLieuDoiTuong as ObjectShape from
	ThongTinVeDoiTuong inner join ThongTinDoiTuongPhu on ThongTinVeDoiTuong.ThongTinDoiTuongChinhId = ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId
	where ThongTinDoiTuongPhu.Value = @code and ThongTinDoiTuongPhu.KieuDuLieu like '%'+@type+'%'
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAllShapeJsonByCodeAndType].[@code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAllShapeJsonByCodeAndType].[@type]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAllShapeJsonByCodeAndType].[@code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAllShapeJsonByCodeAndType].[@type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="463" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetAllShapeJsonByCodeAndType]&#xD;&#xA;&#x9;@code varchar(100),&#xD;&#xA;&#x9;@type varchar(200)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetAllShapeJsonById]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	select ThongTinVeDoiTuong.ThongTinDoiTuongChinhId as Id, ThongTinVeDoiTuong.DuLieuDoiTuong as ObjectShape from
	ThongTinVeDoiTuong
	where ThongTinVeDoiTuong.ThongTinDoiTuongChinhId = @id
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAllShapeJsonById].[@id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAllShapeJsonById].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="267" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetAllShapeJsonById]&#xD;&#xA;&#x9;@id varchar(50)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetAllShapJsonByDiaGioiHanhChinhCode]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	select ThongTinVeDoiTuong.ThongTinDoiTuongChinhId as Id, ThongTinVeDoiTuong.DuLieuDoiTuong as ObjectShape from
	ThongTinVeDoiTuong inner join ThongTinDoiTuongChinh on ThongTinVeDoiTuong.ThongTinDoiTuongChinhId = ThongTinDoiTuongChinh.Id
	where ThongTinDoiTuongChinh.DiaGioiHanhChinhCode = @diaGioiHanhChinhCode
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAllShapJsonByDiaGioiHanhChinhCode].[@diaGioiHanhChinhCode]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAllShapJsonByDiaGioiHanhChinhCode].[@diaGioiHanhChinhCode]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="427" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetAllShapJsonByDiaGioiHanhChinhCode]&#xD;&#xA;&#x9;@diaGioiHanhChinhCode nvarchar(20)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetAllShapJsonByParentPlaceId]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT Code, Type into #CodeTemp from Countries where ParentId = @parentPlaceId 
	SELECT ThongTinVeDoiTuong.ThongTinDoiTuongChinhId as Id, ThongTinVeDoiTuong.DuLieuDoiTuong as ObjectShape from
	ThongTinVeDoiTuong INNER JOIN ThongTinDoiTuongPhu On ThongTinVeDoiTuong.ThongTinDoiTuongChinhId = ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId INNER JOIN #CodeTemp ON ThongTinDoiTuongPhu.Value = #CodeTemp.Code AND ThongTinDoiTuongPhu.KieuDuLieu = #CodeTemp.Type
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAllShapJsonByParentPlaceId].[@parentPlaceId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAllShapJsonByParentPlaceId].[#CodeTemp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAllShapJsonByParentPlaceId].[#CodeTemp].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAllShapJsonByParentPlaceId].[#CodeTemp].[Type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetAllShapJsonByParentPlaceId].[#CodeTemp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetAllShapJsonByParentPlaceId].[#CodeTemp].[Code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[Code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetAllShapJsonByParentPlaceId].[#CodeTemp].[Type]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Countries].[Type]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetAllShapJsonByParentPlaceId].[@parentPlaceId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="548" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetAllShapJsonByParentPlaceId]&#xD;&#xA;&#x9;@parentPlaceId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetChiTietCauHinhDoiTuongByLopID]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DECLARE @IdCauHinhDoiTuong varchar(50)
	set @IdCauHinhDoiTuong=(select top 1 CauHinhDoiTuong.Id from CauHinhDoiTuong,LopCauHinhDoiTuong where LopCauHinhDoiTuong.LopId=@id and LopCauHinhDoiTuong.CauHinhDoiTuongId =CauHinhDoiTuong.Id)
	select ChiTietCauHinhDoiTuong.Ten as [Text], ChiTietCauHinhDoiTuong.DuLieuMacDinh as [Value] INTO #temp
	from ChiTietCauHinhDoiTuong,CauHinhDoiTuong
	where ChiTietCauHinhDoiTuong.CauHinhDoiTuongId = CauHinhDoiTuong.Id and TrangThaiThuocTinh =1 and CauHinhDoiTuong.Id = @IdCauHinhDoiTuong
	insert into #temp
	select 'templatecategory' as [Text], CauHinhDoiTuong.Id as [Value]
	from CauHinhDoiTuong where CauHinhDoiTuong.Id = @IdCauHinhDoiTuong
	select * from #temp
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[LopCauHinhDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[LopCauHinhDoiTuong].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChiTietCauHinhDoiTuongByLopID].[@id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[LopCauHinhDoiTuong].[CauHinhDoiTuongId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[DuLieuMacDinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[CauHinhDoiTuongId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[TrangThaiThuocTinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChiTietCauHinhDoiTuongByLopID].[#temp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetChiTietCauHinhDoiTuongByLopID].[#temp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetChiTietCauHinhDoiTuongByLopID].[#temp].[Text]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Ten]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetChiTietCauHinhDoiTuongByLopID].[#temp].[Value]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ChiTietCauHinhDoiTuong].[DuLieuMacDinh]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetChiTietCauHinhDoiTuongByLopID].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="799" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetChiTietCauHinhDoiTuongByLopID]&#xD;&#xA;&#x9;@id varchar(50)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetChiTietThongTinByLopId]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DECLARE @Count int
	Select ThongTinDoiTuongPhu.Ten,ThongTinDoiTuongPhu.Code,ThongTinDoiTuongPhu.KieuDuLieu,ThongTinDoiTuongPhu.[Value] as DuLieuMacDinh, ThongTinDoiTuongPhu.[Order] into #temp
	from ThongTinDoiTuongPhu,ThongTinDoiTuongChinh
	where ThongTinDoiTuongChinh.CauHinhDoiTuongId=@CauHinhDoiTuongId and ThongTinDoiTuongChinh.Id=@IdShape and ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId=ThongTinDoiTuongChinh.Id
	Set @Count =(select count(*) from #temp)
	If @Count <= 0
	Begin
		Select ChiTietCauHinhDoiTuong.Ten,ChiTietCauHinhDoiTuong.Code,ChiTietCauHinhDoiTuong.KieuDuLieu,ChiTietCauHinhDoiTuong.DuLieuMacDinh from CauHinhDoiTuong,ChiTietCauHinhDoiTuong
		where CauHinhDoiTuong.Id=ChiTietCauHinhDoiTuong.CauHinhDoiTuongId and TrangThaiThuocTinh = 0  and ChiTietCauHinhDoiTuong.[Status]=1 and CauHinhDoiTuong.Id=@CauHinhDoiTuongId
		Order by [Order] asc
	End
	Else
	Begin
	  Select Ten,Code,KieuDuLieu,DuLieuMacDinh from #temp order by [Order] asc
	End
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[CauHinhDoiTuongId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChiTietThongTinByLopId].[@CauHinhDoiTuongId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChiTietThongTinByLopId].[@IdShape]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChiTietThongTinByLopId].[#temp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[DuLieuMacDinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[CauHinhDoiTuongId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[TrangThaiThuocTinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChiTietThongTinByLopId].[#temp].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChiTietThongTinByLopId].[#temp].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChiTietThongTinByLopId].[#temp].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChiTietThongTinByLopId].[#temp].[DuLieuMacDinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChiTietThongTinByLopId].[#temp].[Order]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetChiTietThongTinByLopId].[#temp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetChiTietThongTinByLopId].[#temp].[Ten]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongPhu].[Ten]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetChiTietThongTinByLopId].[#temp].[Code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongPhu].[Code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetChiTietThongTinByLopId].[#temp].[KieuDuLieu]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetChiTietThongTinByLopId].[#temp].[DuLieuMacDinh]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetChiTietThongTinByLopId].[#temp].[Order]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongPhu].[Order]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetChiTietThongTinByLopId].[@CauHinhDoiTuongId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetChiTietThongTinByLopId].[@IdShape]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1098" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetChiTietThongTinByLopId]&#xD;&#xA;&#x9;@CauHinhDoiTuongId varchar(50),&#xD;&#xA;&#x9;@IdShape varchar(50)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetCityByCountry]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
  Select Name from dbo.Countries
where [Level]=1 
ORDER BY Name
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Level]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="124" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetCityByCountry]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetCountryByCode]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DEClARE @id int
	if LEN(@ParentCode) > 0
	Begin
		Set @id = (select Id from Countries where Code = @ParentCode)
		select * from Countries where ParentId = @id order by [Name]
	End
	Else
	Begin
		Set @id = (select ParentId from Countries where Code = @Code)
		select * from Countries where ParentId = @id order by [Name]
	End
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCountryByCode].[@ParentCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCountryByCode].[@Code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCountryByCode].[@ParentCode]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCountryByCode].[@Code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="443" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetCountryByCode]&#xD;&#xA;&#x9;@ParentCode nvarchar(20),&#xD;&#xA;&#x9;@Code nvarchar(20)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetCountryChildByParentId]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	
	If @Id >=0
	Begin
		Select Countries.Code as [Text], Countries.[Name] as [Name] from Countries where ParentId = @Id
	End
	Else
	Begin
		DECLARE @idParent int
	    SET @idParent = (Select Id from Countries where Code = @Code)
		Select Countries.Code as [Text], Countries.[Name] as [Name] from Countries where ParentId = @idParent
	End
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCountryChildByParentId].[@Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCountryChildByParentId].[@Code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCountryChildByParentId].[@Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetCountryChildByParentId].[@Code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="446" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetCountryChildByParentId]&#xD;&#xA;&#x9;@Id int,&#xD;&#xA;&#x9;@Code nvarchar(20)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetDoiTuongByIdPhanKhu]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	select ThongTinVeDoiTuong.Id as Id,ThongTinVeDoiTuong.DuLieuDoiTuong as ObjectShape,ThongTinDoiTuongChinh.PhanKhuId as LayerShape
	from ThongTinVeDoiTuong,ThongTinDoiTuongChinh 
	where ThongTinDoiTuongChinh.PhanKhuId in (select * from splitstringID(@PhanKhuId)) and ThongTinVeDoiTuong.ThongTinDoiTuongChinhId = ThongTinDoiTuongChinh.Id
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[PhanKhuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[PhanKhuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetDoiTuongByIdPhanKhu].[@PhanKhuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[splitstringID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetDoiTuongByIdPhanKhu].[@PhanKhuId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="429" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetDoiTuongByIdPhanKhu]&#xD;&#xA;&#x9;@PhanKhuId varchar(max)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetFrameShapeByThongTinDoiTuongChinhId]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT ThongTinLatLngDoiTuong.MaxLat, ThongTinLatLngDoiTuong.MaxLng, ThongTinLatLngDoiTuong.MinLat,  ThongTinLatLngDoiTuong.MinLng, ThongTinDoiTuongChinh.Lat, ThongTinDoiTuongChinh.Lng from
	ThongTinLatLngDoiTuong INNER JOIN ThongTinDoiTuongChinh ON ThongTinLatLngDoiTuong.Id = ThongTinDoiTuongChinh.Id
	Where ThongTinDoiTuongChinh.Id = @id
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MinLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MinLng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFrameShapeByThongTinDoiTuongChinhId].[@id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetFrameShapeByThongTinDoiTuongChinhId].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="440" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetFrameShapeByThongTinDoiTuongChinhId]&#xD;&#xA;&#x9;@id varchar(50)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetFrameShapesByKieuDuLieuAndValue]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT ThongTinLatLngDoiTuong.MaxLat, ThongTinLatLngDoiTuong.MaxLng, ThongTinLatLngDoiTuong.MinLat,  ThongTinLatLngDoiTuong.MinLng, ThongTinDoiTuongChinh.Lat, ThongTinDoiTuongChinh.Lng from
	ThongTinLatLngDoiTuong INNER JOIN ThongTinDoiTuongPhu On ThongTinLatLngDoiTuong.Id = ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId INNER JOIN ThongTinDoiTuongChinh ON ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId = ThongTinDoiTuongChinh.Id
	Where (ThongTinDoiTuongPhu.KieuDuLieu = @KieuDuLieu or ThongTinDoiTuongPhu.KieuDuLieu = 'add-'+@KieuDuLieu)  AND ThongTinDoiTuongPhu.Value = @Value
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MinLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MinLng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFrameShapesByKieuDuLieuAndValue].[@KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetFrameShapesByKieuDuLieuAndValue].[@Value]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetFrameShapesByKieuDuLieuAndValue].[@KieuDuLieu]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetFrameShapesByKieuDuLieuAndValue].[@Value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="704" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetFrameShapesByKieuDuLieuAndValue]&#xD;&#xA;&#x9;@KieuDuLieu varchar(200),&#xD;&#xA;&#x9;@Value nvarchar(MAX)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[GetLat]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetLat].[@stringToSplit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetLat].[@check]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
Begin
	DECLARE @lat float
	DECLARE @lng float
	DECLARE @pos INT
	SELECT @lng =0
	SELECT @lat=0
	SELECT @pos  = CHARINDEX(',', @stringToSplit)
	SELECT @lng = convert(float,SUBSTRING(@stringToSplit, 1, @pos-1))
	SELECT @stringToSplit = SUBSTRING(@stringToSplit, @pos+1, LEN(@stringToSplit)-@pos)
	SELECT @pos  = CHARINDEX(',', @stringToSplit)
	if @pos <= 0
		SELECT @lat = convert(float,@stringToSplit)
	ELse
	    SELECT @lat = convert(float,SUBSTRING(@stringToSplit, 1, @pos-1))
	if @check =1
	BEGIN
		RETURN @lng;
	END
	RETURN @lat;
	
End]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="662" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[GetLat]&#xD;&#xA;(&#x9;&#xD;&#xA;&#x9;@stringToSplit VARCHAR(max),&#xD;&#xA;&#x9;@check bit&#xD;&#xA;)&#xD;&#xA;RETURNS float  &#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetLat].[@stringToSplit]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetLat].[@check]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="Precision" Value="53" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[float]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetLayer]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	select * from Lop
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Lop]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="69" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetLayer]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetListProperties]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	Select [Ten] as [Text], [DuLieuMacDinh] as [Value]
	from ChiTietCauHinhDoiTuong
	where TrangThaiThuocTinh = 1 and CauHinhDoiTuongId=@CategoryId
	order by [Order]
END


--exec GetListProperties 'f4e61dbe-fc67-4213-b0dd-d80842120b86']]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[DuLieuMacDinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[TrangThaiThuocTinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[CauHinhDoiTuongId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetListProperties].[@CategoryId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Order]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetListProperties].[@CategoryId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="320" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetListProperties]&#xD;&#xA;&#x9;@CategoryId varchar(50)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetPhanKhuByZoomView]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    DECLARE @codePhan varchar(20)
    DECLARE @GEO GEOGRAPHY
	SET @GEO= Geography::Point(@Lat, @lng, 4326)
	select Top 1 DiaGioiHanhChinhCode
	INTO #TempCount from ThongTinDoiTuongChinh
	where  @GEO.STDistance(Geography::Point(ISNULL(Lat,0), ISNULL(Lng,0), 4326)) <= @raduis and LEN(DiaGioiHanhChinhCode) > 6
	set @codePhan = SUBSTRING((select * from #TempCount), 1, 6)
	select PhanKhu.Id,PhanKhu.TenPhanKhu,PhanKhu.DiaGioiHanhChinhCode,PhanKhu.Lat,PhanKhu.Lng,PhanKhu.ParentId,PhanKhu.Zoom 
	   from PhanKhu,Countries,Lop 
	   where PhanKhu.DiaGioiHanhChinhCode = Countries.Code and Countries.[Level] = Lop.CapDiaGioiHanhChinh 
	         and Lop.ZoomMin <= @zoom and Lop.ZoomMax>=@zoom and PhanKhu.DiaGioiHanhChinhCode like ''+@codePhan+'%'

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPhanKhuByZoomView].[@lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPhanKhuByZoomView].[@lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPhanKhuByZoomView].[@raduis]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPhanKhuByZoomView].[#TempCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanKhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanKhu].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanKhu].[TenPhanKhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanKhu].[DiaGioiHanhChinhCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanKhu].[Lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanKhu].[Lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanKhu].[ParentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanKhu].[Zoom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[CapDiaGioiHanhChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[ZoomMin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPhanKhuByZoomView].[@zoom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[ZoomMax]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetPhanKhuByZoomView].[#TempCount]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetPhanKhuByZoomView].[#TempCount].[DiaGioiHanhChinhCode]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPhanKhuByZoomView].[@zoom]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPhanKhuByZoomView].[@lat]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPhanKhuByZoomView].[@lng]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetPhanKhuByZoomView].[@raduis]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="875" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetPhanKhuByZoomView]&#xD;&#xA;&#x9;@zoom float,&#xD;&#xA;&#x9;@lat float,&#xD;&#xA;&#x9;@lng float,&#xD;&#xA;&#x9;@raduis float&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetQuanHuyenByCity]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
  Select * from dbo.ThongTinDoiTuongChinh INNER JOIN ThongTinDoiTuongPhu 
  ON ThongTinDoiTuongChinh.Id=ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId
	where DiaGioiHanhChinhCode like @code
	And ThongTinDoiTuongPhu.Code = 'HUYEN/QUAN'
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetQuanHuyenByCity].[@code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetQuanHuyenByCity].[@code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="314" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetQuanHuyenByCity]&#xD;&#xA;@code varchar(50)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetShapeNearby]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DECLARE @GEO GEOGRAPHY
	SET @GEO= Geography::Point(@Lat, @lng, 4326)
	DECLARE @layerId varchar(50)
	Set @layerId = (select LopId from ThongTinDoiTuongChinh where Id = @Id)

	select DISTINCT  ThongTinDoiTuongChinh.Id,ThongTinDoiTuongChinh.LopId
	INTO #TempCount from ThongTinDoiTuongChinh, ThongTinLatLngDoiTuong
	where ThongTinDoiTuongChinh.LopId = @layerId and ThongTinDoiTuongChinh.Id = ThongTinLatLngDoiTuong.Id and ThongTinDoiTuongChinh.Id <> @Id 
	and ThongTinLatLngDoiTuong.MaxLat IS NOT NULL and ThongTinLatLngDoiTuong.MinLat IS NOT NULL and ThongTinLatLngDoiTuong.MaxLng IS NOT NULL and ThongTinLatLngDoiTuong.MinLng IS NOT NULL
	and (
	      @GEO.STDistance(Geography::Point(ISNULL((select dbo.GetLat(ThongTinLatLngDoiTuong.MaxLat,0)),0), ISNULL((select dbo.GetLat(ThongTinLatLngDoiTuong.MaxLat,1)),0), 4326)) <= @raduis
		  or @GEO.STDistance(Geography::Point(ISNULL((select dbo.GetLat(ThongTinLatLngDoiTuong.MinLat,0)),0), ISNULL((select dbo.GetLat(ThongTinLatLngDoiTuong.MinLat,1)),0), 4326)) <= @raduis
		  or @GEO.STDistance(Geography::Point(ISNULL((select dbo.GetLat(ThongTinLatLngDoiTuong.MaxLng,0)),0), ISNULL((select dbo.GetLat(ThongTinLatLngDoiTuong.MaxLng,1)),0), 4326)) <= @raduis
		  or @GEO.STDistance(Geography::Point(ISNULL((select dbo.GetLat(ThongTinLatLngDoiTuong.MinLng,0)),0), ISNULL((select dbo.GetLat(ThongTinLatLngDoiTuong.MinLng,1)),0), 4326)) <= @raduis
		)

	select #TempCount.Id as Id, ThongTinVeDoiTuong.DuLieuDoiTuong as ObjectShape,#TempCount.LopId  as LayerShape from ThongTinVeDoiTuong,#TempCount 
		   where ThongTinVeDoiTuong.ThongTinDoiTuongChinhId=#TempCount.Id
	--select * from #TempCount
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShapeNearby].[@lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShapeNearby].[@lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShapeNearby].[@Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MinLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MinLng]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShapeNearby].[@raduis]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShapeNearby].[#TempCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShapeNearby].[#TempCount].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShapeNearby].[#TempCount].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShapeNearby].[#TempCount].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetShapeNearby].[#TempCount]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetShapeNearby].[#TempCount].[Id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetShapeNearby].[#TempCount].[LopId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongChinh].[LopId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShapeNearby].[@Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShapeNearby].[@raduis]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShapeNearby].[@lat]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShapeNearby].[@lng]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1765" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE GetShapeNearby&#xD;&#xA;&#x9;@Id varchar(50),&#xD;&#xA;&#x9;@raduis float,&#xD;&#xA;&#x9;@lat float,&#xD;&#xA;&#x9;@lng float&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetThongTinByLatLng]">
			<Property Name="BodyScript">
				<Value><![CDATA[
SELECT 
	ThongTinLatLngDoiTuong.Id,
	--ThongTinDoiTuongChinh.Ten,
	--ThongTinDoiTuongPhu.Code, 
	--ThongTinDoiTuongChinh.DiaGioiHanhChinhCode,
	ThongTinVeDoiTuong.DuLieuDoiTuong,
	ThongTinDoiTuongPhu.[Value]
FROM
	ThongTinLatLngDoiTuong,	ThongTinDoiTuongChinh, ThongTinDoiTuongPhu, ThongTinVeDoiTuong
WHERE 
( @Lat BETWEEN   SUBSTRING(MinLat,CHARINDEX(',', MinLat) +1, LEN(MinLat))
and SUBSTRING(MaxLat,CHARINDEX(',', MaxLat) +1, LEN(MaxLat))) 
AND (@Lng BETWEEN  SUBSTRING(MinLng, 0, CHARINDEX(',', MinLng))
and SUBSTRING(MaxLng, 0, CHARINDEX(',', MaxLng)) )  
AND ThongTinLatLngDoiTuong.Id = ThongTinDoiTuongChinh.Id
AND ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId = ThongTinDoiTuongChinh.Id
AND ThongTinDoiTuongPhu.Code = 'XA/PHUONG'
AND ThongTinDoiTuongChinh.Id = ThongTinVeDoiTuong.ThongTinDoiTuongChinhId]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetThongTinByLatLng].[@Lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MinLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetThongTinByLatLng].[@Lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MinLng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetThongTinByLatLng].[@Lat]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetThongTinByLatLng].[@Lng]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="914" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetThongTinByLatLng] @Lat nvarchar(50), @Lng nvarchar(50)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
    If (LEN(@idthongtindoituongchinh) <= 0)
	Begin
		DECLARE @IdCauHinhDoiTuong varchar(50)
		set @IdCauHinhDoiTuong=(select top 1 CauHinhDoiTuong.Id from CauHinhDoiTuong,LopCauHinhDoiTuong where LopCauHinhDoiTuong.LopId=@id and LopCauHinhDoiTuong.CauHinhDoiTuongId =CauHinhDoiTuong.Id)
		select ChiTietCauHinhDoiTuong.Ten,ChiTietCauHinhDoiTuong.Code,ChiTietCauHinhDoiTuong.KieuDuLieu,ChiTietCauHinhDoiTuong.DuLieuMacDinh , ChiTietCauHinhDoiTuong.[Order] INTO #temp
		from ChiTietCauHinhDoiTuong,CauHinhDoiTuong
		where ChiTietCauHinhDoiTuong.CauHinhDoiTuongId = CauHinhDoiTuong.Id and TrangThaiThuocTinh =0 and CauHinhDoiTuong.Id = @IdCauHinhDoiTuong and ChiTietCauHinhDoiTuong.[Status] = 1
		order by ChiTietCauHinhDoiTuong.[Order] asc
		insert into #temp
		select 'Ten' as [Ten],'CauHinhDoiTuongId' as [Code],'Key' as KieuDuLieu, @IdCauHinhDoiTuong as DuLieuMacDinh, 0 as [Order]
		select Ten,Code,KieuDuLieu,DuLieuMacDinh from #temp order by [Order] asc
	End
	Else
	Begin
		select ThongTinDoiTuongPhu.Ten,ThongTinDoiTuongPhu.Code,ThongTinDoiTuongPhu.KieuDuLieu,ThongTinDoiTuongPhu.[Value] as DuLieuMacDinh
		from ThongTinDoiTuongChinh,ThongTinDoiTuongPhu
		where ThongTinDoiTuongChinh.Id= ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId and ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId = @idthongtindoituongchinh
		order by [Order] asc
	End
END


--exec GetThongtinCauHinhDoiTuongByLopId 'a2135b43-ac6c-4527-bfa8-58447fac602e','']]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[@idthongtindoituongchinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[LopCauHinhDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[LopCauHinhDoiTuong].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[@id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[LopCauHinhDoiTuong].[CauHinhDoiTuongId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[DuLieuMacDinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[CauHinhDoiTuongId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CauHinhDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[TrangThaiThuocTinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[#temp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[#temp].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[#temp].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[#temp].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[#temp].[DuLieuMacDinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[#temp].[Order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Order]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[#temp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[#temp].[Ten]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Ten]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[#temp].[Code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[#temp].[KieuDuLieu]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ChiTietCauHinhDoiTuong].[KieuDuLieu]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[#temp].[DuLieuMacDinh]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ChiTietCauHinhDoiTuong].[DuLieuMacDinh]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[#temp].[Order]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ChiTietCauHinhDoiTuong].[Order]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetThongtinCauHinhDoiTuongByLopId].[@idthongtindoituongchinh]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1579" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetThongtinCauHinhDoiTuongByLopId]&#xD;&#xA;&#x9;@id varchar(50),&#xD;&#xA;&#x9;@idthongtindoituongchinh varchar(50)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetThongTinDoiTuongById]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	Declare @temp table(Ten nvarchar(max),[Value] nvarchar(max))
	Declare @codeParent nvarchar(20)
	Declare @check nvarchar(20)
	Declare @Ten nvarchar(max)
	Declare @SoThua int
	Declare @SoTo int
	Declare @CheckExit int
	Declare @CheckUrl int
	Set @CheckExit = (select COUNT(*) from ThongTinDoiTuongChinh where Id = @Id)
	If @CheckExit > 0
	Begin

		Set @codeParent =(Select DiaGioiHanhChinhCode from ThongTinDoiTuongChinh where Id = @Id)
		--country
		Set @check = SUBSTRING(@codeParent,1,3)
		If LEN(@check) > 2
		Begin
			Insert into @temp(Ten,[Value])
			select N'Quốc gia' as Ten, [Name] as [Value] from Countries where Code = @check
		End
		--city
		Set @check = SUBSTRING(@codeParent,1,6)
		If LEN(@check) > 5
		Begin
			Insert into @temp(Ten,[Value])
			select N'Thành phố / Tỉnh' as Ten, [Name] as [Value] from Countries where Code = @check
		End
		--district
		Set @check = SUBSTRING(@codeParent,1,9)
		If LEN(@check) > 8
		Begin
			Insert into @temp(Ten,[Value])
			select N'Quận / Huyện' as Ten, [Name] as [Value] from Countries where Code = @check
		End
		--ward
		Set @check = SUBSTRING(@codeParent,1,12)
		If LEN(@check) > 11
		Begin
			Insert into @temp(Ten,[Value])
			select N'Phường / Xã' as Ten, [Name] as [Value] from Countries where Code = @check
		End

		--country on doi tuong
		Insert into @temp(Ten,[Value])
		select ThongTinDoiTuongPhu.Ten,Countries.[Name] as [Value] from ThongTinDoiTuongPhu,Countries where ThongTinDoiTuongPhu.[Value] = Countries.Code and ThongTinDoiTuongChinhId = @Id

		--Ten, so thua, so to
		select @Ten = Ten,@SoThua=SoThua,@SoTo = SoTo from ThongTinDoiTuongChinh where Id = @Id
		Insert into @temp(Ten,[Value]) values (N'Tên',@Ten)
		Insert into @temp(Ten,[Value]) values (N'Số hiệu thửa',@SoThua)
		Insert into @temp(Ten,[Value]) values (N'Số hiệu tờ',@SoTo)

		Insert into @temp(Ten,[Value])
		Select Ten,[Value] from ThongTinDoiTuongPhu where ThongTinDoiTuongChinhId = @Id  and Id not in (select ThongTinDoiTuongPhu.Id from ThongTinDoiTuongPhu,Countries where ThongTinDoiTuongPhu.[Value] = Countries.Code and ThongTinDoiTuongChinhId = @Id) and ThongTinDoiTuongPhu.KieuDuLieu <> 'url'

		Set @CheckUrl = (select COUNT(*) from ThongTinDoiTuongPhu where ThongTinDoiTuongChinhId = @Id and KieuDuLieu = 'url')
		If @CheckUrl > 0
		Begin
			Insert into @temp(Ten,[Value])
			select Ten,'<a href="'+[Value]+'" target="_blank">'+[Value]+'</a>' as [Value] from ThongTinDoiTuongPhu where ThongTinDoiTuongChinhId = @Id and KieuDuLieu = 'url'
		End
		select * from @temp
	End
	Else
	Begin
	   select * from @temp where Ten <> ''
	End
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetThongTinDoiTuongById].[@Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetThongTinDoiTuongById].[@temp].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetThongTinDoiTuongById].[@temp].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[SoThua]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[SoTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetThongTinDoiTuongById].[@temp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetThongTinDoiTuongById].[@temp].[Ten]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[GetThongTinDoiTuongById].[@temp].[Value]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetThongTinDoiTuongById].[@Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2723" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetThongTinDoiTuongById]&#xD;&#xA;&#x9;@Id varchar(50)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[GetXaPhuongByQuanHuyen]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
  Select ThongTinDoiTuongChinh.Ten from dbo.ThongTinDoiTuongChinh INNER JOIN ThongTinDoiTuongPhu
	on ThongTinDoiTuongChinh.Id= ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId
	where ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId like @quanId
	
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetXaPhuongByQuanHuyen].[@quanId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetXaPhuongByQuanHuyen].[@quanId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="325" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetXaPhuongByQuanHuyen]&#xD;&#xA;@quanId VARCHAR(50)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[InsertDoiTuong]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	INSERT INTO ThongTinDoiTuongChinh(Id, Ten, SoThua, SoTo, LopId, DiaGioiHanhChinhCode, Lat, Lng, CauHinhDoiTuongId) 
	VALUES(@Id, @Ten,@SoThua, @SoTo, @LopId,@DiaGioHanhChinh, @lat, @lng, @CauHinhDoiTuong)
	select count(*) from ThongTinDoiTuongChinh where Id= @Id
END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[SoThua]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[SoTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[CauHinhDoiTuongId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InsertDoiTuong].[@Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InsertDoiTuong].[@Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InsertDoiTuong].[@SoThua]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InsertDoiTuong].[@SoTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InsertDoiTuong].[@LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InsertDoiTuong].[@DiaGioHanhChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InsertDoiTuong].[@lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InsertDoiTuong].[@lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InsertDoiTuong].[@CauHinhDoiTuong]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[InsertDoiTuong].[@Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[InsertDoiTuong].[@Ten]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[InsertDoiTuong].[@SoThua]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[InsertDoiTuong].[@SoTo]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[InsertDoiTuong].[@LopId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[InsertDoiTuong].[@DiaGioHanhChinh]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[InsertDoiTuong].[@CauHinhDoiTuong]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[InsertDoiTuong].[@lat]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[InsertDoiTuong].[@lng]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="515" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[InsertDoiTuong]&#xD;&#xA;&#x9;@Id varchar(50),&#xD;&#xA;&#x9;@Ten nvarchar(max),&#xD;&#xA;&#x9;@SoThua int,&#xD;&#xA;&#x9;@SoTo int,&#xD;&#xA;&#x9;@LopId varchar(50),&#xD;&#xA;&#x9;@DiaGioHanhChinh nvarchar(20),&#xD;&#xA;&#x9;@CauHinhDoiTuong varchar(50),&#xD;&#xA;&#x9;@lat float,&#xD;&#xA;&#x9;@lng float&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Lop]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Lop].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="4" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Lop].[Ten]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Lop].[ZoomMin]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Lop].[ZoomMax]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Lop].[CapDiaGioiHanhChinh]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Lop].[Status]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="29" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[LopCauHinhDoiTuong]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[LopCauHinhDoiTuong].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[LopCauHinhDoiTuong].[LopId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[LopCauHinhDoiTuong].[CauHinhDoiTuongId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="16" />
			<AttachedAnnotation Disambiguator="10" />
			<AttachedAnnotation Disambiguator="11" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[PagingCountry]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	DECLARE @query nvarchar(MAX)

	SET @query = N'SELECT * 
				FROM Countries 
				WHERE Name LIKE @search AND ParentId = @parentId
				ORDER BY ' + @softBy + ' ' + @softDir +  
				' OFFSET @start ROWS FETCH NEXT @pageCount ROWS ONLY;'
	DECLARE @a nvarchar(MAX);
	SET @a= '%'+@search+'%'
	EXEC sp_executesql @query,  N'@search nvarchar(MAX),@start int,@pageCount int, @parentId int', @a, @start, @pageCount, @parentId
	SET @total = (SELECT COUNT(*) FROM Countries WHERE Name LIKE '%'+@search+'%' AND ParentId = @parentId)
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingCountry].[@softBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingCountry].[@softDir]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingCountry].[@search]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[PagingCountry].[@start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingCountry].[@pageCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingCountry].[@parentId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingCountry].[@total]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[ParentId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingCountry].[@start]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingCountry].[@pageCount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingCountry].[@softBy]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingCountry].[@softDir]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingCountry].[@search]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingCountry].[@total]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingCountry].[@parentId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="726" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="create PROCEDURE [dbo].[PagingCountry]&#xD;&#xA;&#x9;@start int,&#xD;&#xA;&#x9;@pageCount int,&#xD;&#xA;&#x9;@softBy nvarchar(max),&#xD;&#xA;&#x9;@softDir nvarchar(max),&#xD;&#xA;&#x9;@search nvarchar(max),&#xD;&#xA;&#x9;@total int out,&#xD;&#xA;&#x9;@parentId int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[PagingLayer]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DECLARE @query nvarchar(MAX)

	SET @query = N'SELECT * 
				FROM Lop 
				WHERE Ten LIKE @search
				ORDER BY ' + @softBy + ' ' + @softDir +  
				' OFFSET @start ROWS FETCH NEXT @pageCount ROWS ONLY;'
	DECLARE @a nvarchar(MAX);
	SET @a= '%'+@search+'%'
	EXEC sp_executesql @query,  N'@search nvarchar(MAX),@start int,@pageCount int', @a, @start, @pageCount
	SET @total = (SELECT COUNT(*) FROM Lop WHERE Ten LIKE '%'+@search+'%')
END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingLayer].[@softBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingLayer].[@softDir]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingLayer].[@search]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[PagingLayer].[@start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingLayer].[@pageCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingLayer].[@total]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[Ten]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingLayer].[@start]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingLayer].[@pageCount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingLayer].[@softBy]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingLayer].[@softDir]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingLayer].[@search]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingLayer].[@total]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="629" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PagingLayer]&#xD;&#xA;&#x9;@start int,&#xD;&#xA;&#x9;@pageCount int,&#xD;&#xA;&#x9;@softBy nvarchar(max),&#xD;&#xA;&#x9;@softDir nvarchar(max),&#xD;&#xA;&#x9;@search nvarchar(max),&#xD;&#xA;&#x9;@total int out&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[PagingTag]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
 SELECT Id,Ten, Code,DaSuDung ,[Order], SuDungThoiGian,ThoiGian
 FROM Tag  as t
 WHERE Ten LIKE '%'+@search+'%' OR Code LIKE '%'+@search+'%' OR TenKhongDau LIKE '%'+@search+'%'
 ORDER BY  
  CASE WHEN @orderBy='Ten' AND @asc = 1 THEN t.Ten END,
  CASE WHEN @orderBy='Ten' AND @asc = 0 THEN t.Ten END  DESC,
  CASE WHEN @orderBy='DaSuDung' AND @asc = 1 THEN t.DaSuDung END,
  CASE WHEN @orderBy='DaSuDung' AND @asc = 0 THEN t.DaSuDung END DESC,
  CASE WHEN @orderBy='Code' AND @asc = 1 THEN t.Code END,
  CASE WHEN @orderBy='Code' AND @asc = 0 THEN t.Code END DESC
 OFFSET @start ROWS FETCH NEXT @pageCount ROWS ONLY;
 SET @total = (SELECT COUNT(*) FROM Tag WHERE Ten LIKE '%'+@search+'%' OR Code LIKE '%'+@search+'%')
END
RETURN]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Tag]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[DaSuDung]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[Order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[SuDungThoiGian]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[ThoiGian]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingTag].[@search]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[TenKhongDau]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingTag].[@orderBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingTag].[@asc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[DaSuDung]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingTag].[@start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingTag].[@pageCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingTag].[@total]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[Code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingTag].[@start]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingTag].[@pageCount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingTag].[@orderBy]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingTag].[@asc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingTag].[@search]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingTag].[@total]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="900" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PagingTag]&#xD;&#xA; @start int,&#xD;&#xA; @pageCount int,&#xD;&#xA; @orderBy nvarchar(max),&#xD;&#xA; @asc bit,&#xD;&#xA; @search nvarchar(max),&#xD;&#xA; @total int out&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[PagingUser]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SELECT Id,UserName,Email 
	FROM AspNetUsers 
	WHERE UserName LIKE '%'+@search+'%' OR Email LIKE '%'+@search+'%'
	ORDER BY  
		CASE WHEN @orderBy='UserName' AND @asc = 1 THEN UserName END,
		CASE WHEN @orderBy='Email' AND @asc = 1 THEN Email END,
		CASE WHEN @orderBy='UserName' AND @asc = 0 THEN UserName END DESC,
		CASE WHEN @orderBy='Email' AND @asc = 0 THEN Email END DESC
	OFFSET @start ROWS FETCH NEXT @pageCount ROWS ONLY;
	SET @total = (SELECT COUNT(*) FROM AspNetUsers WHERE UserName LIKE '%'+@search+'%' OR Email LIKE '%'+@search+'%')
END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AspNetUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspNetUsers].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspNetUsers].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspNetUsers].[Email]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingUser].[@search]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingUser].[@orderBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingUser].[@asc]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingUser].[@start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingUser].[@pageCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PagingUser].[@total]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspNetUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspNetUsers].[UserName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspNetUsers].[Email]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingUser].[@start]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingUser].[@pageCount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingUser].[@orderBy]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingUser].[@asc]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingUser].[@search]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PagingUser].[@total]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="729" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="Create PROCEDURE [dbo].[PagingUser]&#xD;&#xA;&#x9;@start int,&#xD;&#xA;&#x9;@pageCount int,&#xD;&#xA;&#x9;@orderBy nvarchar(max),&#xD;&#xA;&#x9;@asc bit,&#xD;&#xA;&#x9;@search nvarchar(max),&#xD;&#xA;&#x9;@total int out&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlMultiStatementTableValuedFunction" Name="[dbo].[parseJSON]">
			<Property Name="ReturnTableVariable" Value="@hierarchy" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[char]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bigint]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[smallint]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON].[@JSON]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON].[@Strings].[StringValue]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON].[@Strings].[String_ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON].[NAME]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON].[sequenceNo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON].[parent_ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON].[StringValue]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON].[Object_ID]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON].[ValueType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSON].[element_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSON].[sequenceNo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSON].[parent_ID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSON].[Object_ID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSON].[NAME]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2000" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSON].[StringValue]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSON].[ValueType]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="10" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[parseJSON].[@Strings]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSON].[@Strings].[String_ID]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSON].[@Strings].[StringValue]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
  DECLARE
    @FirstObject INT, --the index of the first open bracket found in the JSON string
    @OpenDelimiter INT,--the index of the next open bracket found in the JSON string
    @NextOpenDelimiter INT,--the index of subsequent open bracket found in the JSON string
    @NextCloseDelimiter INT,--the index of subsequent close bracket found in the JSON string
    @Type NVARCHAR(10),--whether it denotes an object or an array
    @NextCloseDelimiterChar CHAR(1),--either a '}' or a ']'
    @Contents NVARCHAR(MAX), --the unparsed contents of the bracketed expression
    @Start INT, --index of the start of the token that you are parsing
    @end INT,--index of the end of the token that you are parsing
    @param INT,--the parameter at the end of the next Object/Array token
    @EndOfName INT,--the index of the start of the parameter at end of Object/Array token
    @token NVARCHAR(200),--either a string or object
    @value NVARCHAR(MAX), -- the value as a string
    @SequenceNo int, -- the sequence number within a list
    @name NVARCHAR(200), --the name as a string
    @parent_ID INT,--the next parent ID to allocate
    @lenJSON INT,--the current length of the JSON String
    @characters NCHAR(36),--used to convert hex to decimal
    @result BIGINT,--the value of the hex symbol being parsed
    @index SMALLINT,--used for parsing the hex value
    @Escape INT --the index of the next escape character
   
 
  DECLARE @Strings TABLE /* in this temporary table we keep all strings, even the names of the elements, since they are 'escaped' in a different way, and may contain, unescaped, brackets denoting objects or lists. These are replaced in the JSON string by tokens representing the string */
    (
     String_ID INT IDENTITY(1, 1),
     StringValue NVARCHAR(MAX)
    )
  SELECT--initialise the characters to convert hex to ascii
    @characters='0123456789abcdefghijklmnopqrstuvwxyz',
    @SequenceNo=0, --set the sequence no. to something sensible.
  /* firstly we process all strings. This is done because [{} and ] aren't escaped in strings, which complicates an iterative parse. */
    @parent_ID=0;
  WHILE 1=1 --forever until there is nothing more to do
    BEGIN
      SELECT
        @start=PATINDEX('%[^a-zA-Z]["]%', @json collate SQL_Latin1_General_CP850_Bin);--next delimited string
      IF @start=0 BREAK --no more so drop through the WHILE loop
      IF SUBSTRING(@json, @start+1, 1)='"'
        BEGIN --Delimited Name
          SET @start=@Start+1;
          SET @end=PATINDEX('%[^\]["]%', RIGHT(@json, LEN(@json+'|')-@start) collate SQL_Latin1_General_CP850_Bin);
        END
      IF @end=0 --no end delimiter to last string
        BREAK --no more
      SELECT @token=SUBSTRING(@json, @start+1, @end-1)
      --now put in the escaped control characters
      SELECT @token=REPLACE(@token, FROMString, TOString)
      FROM
        (SELECT
          '\"' AS FromString, '"' AS ToString
         UNION ALL SELECT '\\', '\'
         UNION ALL SELECT '\/', '/'
         UNION ALL SELECT '\b', CHAR(08)
         UNION ALL SELECT '\f', CHAR(12)
         UNION ALL SELECT '\n', CHAR(10)
         UNION ALL SELECT '\r', CHAR(13)
         UNION ALL SELECT '\t', CHAR(09)
        ) substitutions
      SELECT @result=0, @escape=1
  --Begin to take out any hex escape codes
      WHILE @escape>0
        BEGIN
          SELECT @index=0,
          --find the next hex escape sequence
          @escape=PATINDEX('%\x[0-9a-f][0-9a-f][0-9a-f][0-9a-f]%', @token collate SQL_Latin1_General_CP850_Bin)
          IF @escape>0 --if there is one
            BEGIN
              WHILE @index<4 --there are always four digits to a \x sequence  
                BEGIN
                  SELECT --determine its value
                    @result=@result+POWER(16, @index)
                    *(CHARINDEX(SUBSTRING(@token, @escape+2+3-@index, 1),
                                @characters)-1), @index=@index+1 ;
        
                END
                -- and replace the hex sequence by its unicode value
              SELECT @token=STUFF(@token, @escape, 6, NCHAR(@result))
            END
        END
      --now store the string away
      INSERT INTO @Strings (StringValue) SELECT @token
      -- and replace the string with a token
      SELECT @JSON=STUFF(@json, @start, @end+1,
                    '@string'+CONVERT(NVARCHAR(5), @@identity))
    END
  -- all strings are now removed. Now we find the first leaf. 
  WHILE 1=1  --forever until there is nothing more to do
  BEGIN
 
  SELECT @parent_ID=@parent_ID+1
  --find the first object or list by looking for the open bracket
  SELECT @FirstObject=PATINDEX('%[{[[]%', @json collate SQL_Latin1_General_CP850_Bin)--object or array
  IF @FirstObject = 0 BREAK
  IF (SUBSTRING(@json, @FirstObject, 1)='{')
    SELECT @NextCloseDelimiterChar='}', @type='object'
  ELSE
    SELECT @NextCloseDelimiterChar=']', @type='array'
  SELECT @OpenDelimiter=@firstObject
 
  WHILE 1=1 --find the innermost object or list...
    BEGIN
      SELECT
        @lenJSON=LEN(@JSON+'|')-1
  --find the matching close-delimiter proceeding after the open-delimiter
      SELECT
        @NextCloseDelimiter=CHARINDEX(@NextCloseDelimiterChar, @json,
                                      @OpenDelimiter+1)
  --is there an intervening open-delimiter of either type
      SELECT @NextOpenDelimiter=PATINDEX('%[{[[]%',
             RIGHT(@json, @lenJSON-@OpenDelimiter)collate SQL_Latin1_General_CP850_Bin)--object
      IF @NextOpenDelimiter=0
        BREAK
      SELECT @NextOpenDelimiter=@NextOpenDelimiter+@OpenDelimiter
      IF @NextCloseDelimiter<@NextOpenDelimiter
        BREAK
      IF SUBSTRING(@json, @NextOpenDelimiter, 1)='{'
        SELECT @NextCloseDelimiterChar='}', @type='object'
      ELSE
        SELECT @NextCloseDelimiterChar=']', @type='array'
      SELECT @OpenDelimiter=@NextOpenDelimiter
    END
  ---and parse out the list or name/value pairs
  SELECT
    @contents=SUBSTRING(@json, @OpenDelimiter+1,
                        @NextCloseDelimiter-@OpenDelimiter-1)
  SELECT
    @JSON=STUFF(@json, @OpenDelimiter,
                @NextCloseDelimiter-@OpenDelimiter+1,
                '@'+@type+CONVERT(NVARCHAR(5), @parent_ID))
  WHILE (PATINDEX('%[A-Za-z0-9@+.e]%', @contents collate SQL_Latin1_General_CP850_Bin))<>0
    BEGIN
      IF @Type='Object' --it will be a 0-n list containing a string followed by a string, number,boolean, or null
        BEGIN
          SELECT
            @SequenceNo=0,@end=CHARINDEX(':', ' '+@contents)--if there is anything, it will be a string-based name.
          SELECT  @start=PATINDEX('%[^A-Za-z@][@]%', ' '+@contents collate SQL_Latin1_General_CP850_Bin)--AAAAAAAA
          SELECT @token=SUBSTRING(' '+@contents, @start+1, @End-@Start-1),
            @endofname=PATINDEX('%[0-9]%', @token collate SQL_Latin1_General_CP850_Bin),
            @param=RIGHT(@token, LEN(@token)-@endofname+1)
          SELECT
            @token=LEFT(@token, @endofname-1),
            @Contents=RIGHT(' '+@contents, LEN(' '+@contents+'|')-@end-1)
          SELECT  @name=stringvalue FROM @strings
            WHERE string_id=@param --fetch the name
        END
      ELSE
        SELECT @Name=null,@SequenceNo=@SequenceNo+1
      SELECT
        @end=CHARINDEX(',', @contents)-- a string-token, object-token, list-token, number,boolean, or null
      IF @end=0
        SELECT  @end=PATINDEX('%[A-Za-z0-9@+.e][^A-Za-z0-9@+.e]%', @Contents+' ' collate SQL_Latin1_General_CP850_Bin)
          +1
       SELECT
         @start=PATINDEX('%[^A-Za-z0-9@+.e][A-Za-z0-9@+.e][\-]%', ' '+@contents collate SQL_Latin1_General_CP850_Bin)
		-- Edited: add more condition [\-] in order to detect negative number 08-20-2014
      --select @start,@end, LEN(@contents+'|'), @contents 
      SELECT
        @Value=RTRIM(SUBSTRING(@contents, @start, @End-@Start)),
        @Contents=RIGHT(@contents+' ', LEN(@contents+'|')-@end)
      IF SUBSTRING(@value, 1, 7)='@object'
        INSERT INTO @hierarchy
          (NAME, SequenceNo, parent_ID, StringValue, Object_ID, ValueType)
          SELECT @name, @SequenceNo, @parent_ID, SUBSTRING(@value, 8, 5),
            SUBSTRING(@value, 8, 5), 'object'
      ELSE
        IF SUBSTRING(@value, 1, 6)='@array'
          INSERT INTO @hierarchy
            (NAME, SequenceNo, parent_ID, StringValue, Object_ID, ValueType)
            SELECT @name, @SequenceNo, @parent_ID, SUBSTRING(@value, 7, 5),
              SUBSTRING(@value, 7, 5), 'array'
        ELSE
          IF SUBSTRING(@value, 1, 7)='@string'
            INSERT INTO @hierarchy
              (NAME, SequenceNo, parent_ID, StringValue, ValueType)
              SELECT @name, @SequenceNo, @parent_ID, stringvalue, 'string'
              FROM @strings
              WHERE string_id=SUBSTRING(@value, 8, 5)
          ELSE
            IF @value IN ('true', 'false')
              INSERT INTO @hierarchy
                (NAME, SequenceNo, parent_ID, StringValue, ValueType)
                SELECT @name, @SequenceNo, @parent_ID, @value, 'boolean'
            ELSE
              IF @value='null'
                INSERT INTO @hierarchy
                  (NAME, SequenceNo, parent_ID, StringValue, ValueType)
                  SELECT @name, @SequenceNo, @parent_ID, @value, 'null'
              ELSE
                IF PATINDEX('%[^0-9]%', @value collate SQL_Latin1_General_CP850_Bin)>0
                  INSERT INTO @hierarchy
                    (NAME, SequenceNo, parent_ID, StringValue, ValueType)
                    SELECT @name, @SequenceNo, @parent_ID, @value, 'real'
                ELSE
                  INSERT INTO @hierarchy
                    (NAME, SequenceNo, parent_ID, StringValue, ValueType)
                    SELECT @name, @SequenceNo, @parent_ID, @value, 'int'
      if @Contents=' ' Select @SequenceNo=0
    END
  END
INSERT INTO @hierarchy (NAME, SequenceNo, parent_ID, StringValue, Object_ID, ValueType)
  SELECT '-',1, NULL, '', @parent_id-1, @type
--
   RETURN
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="11221" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[parseJSON]( @JSON NVARCHAR(MAX))&#xD;&#xA;/*&#xD;&#xA;-- Create by Phil Factor&#x9;15 November 2010&#xD;&#xA;-- Update by Kaden Mai&#x9;&#x9;21 August 2014&#xD;&#xA;-- How to Use&#x9;http://mtkcode.blogspot.com/2014/08/parse-json-string-by-sql-script.html&#xD;&#xA;*/&#xD;&#xA;RETURNS @hierarchy TABLE&#xD;&#xA;  (&#xD;&#xA;   element_id INT IDENTITY(1, 1) NOT NULL, /* internal surrogate primary key gives the order of parsing and the list order */&#xD;&#xA;   sequenceNo [int] NULL, /* the place in the sequence for the element */&#xD;&#xA;   parent_ID INT,/* if the element has a parent then it is in this column. The document is the ultimate parent, so you can get the structure from recursing from the document */&#xD;&#xA;   Object_ID INT,/* each list or object has an object id. This ties all elements to a parent. Lists are treated as objects here */&#xD;&#xA;   NAME NVARCHAR(2000),/* the name of the object */&#xD;&#xA;   StringValue NVARCHAR(MAX) NOT NULL,/*the string representation of the value of the element. */&#xD;&#xA;   ValueType VARCHAR(10) NOT null /* the declared type of the value represented as a string in StringValue*/&#xD;&#xA;  )&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[parseJSON].[@JSON]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlMultiStatementTableValuedFunction" Name="[dbo].[parseJSONInforShap]">
			<Property Name="ReturnTableVariable" Value="@return" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSONInforShap].[Ten]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSONInforShap].[Code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSONInforShap].[KieuDuLieu]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSONInforShap].[DuLieuMacDinh]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSONInforShap].[RowNum]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
    Insert into @return
	Select *  
	from OPENJSON(@ListThongTin)
	WITH(Ten NVARCHAR(max) N'$.Ten', 
	  Code VARCHAR(100) '$.Code', 
	  KieuDuLieu VARCHAR(200) '$.KieuDuLieu', 
	  DuLieuMacDinh NVARCHAR(max) N'$.DuLieuMacDinh')
   Return
End]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="488" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[parseJSONInforShap]&#xD;&#xA;(&#x9;&#xD;&#xA;&#x9;@ListThongTin nvarchar(max)&#xD;&#xA;)&#xD;&#xA;RETURNS @return Table (Ten NVARCHAR(max),Code VARCHAR(100),KieuDuLieu VARCHAR(200),DuLieuMacDinh NVARCHAR(max),RowNum int not null identity(1,1))&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[parseJSONInforShap].[@ListThongTin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlMultiStatementTableValuedFunction" Name="[dbo].[parseJSONShape]">
			<Property Name="ReturnTableVariable" Value="@returnList" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSONShape].[@value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSONShape].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSONShape].[ObjectShape]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSONShape].[LayerShape]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSONShape].[Id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSONShape].[ObjectShape]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSONShape].[LayerShape]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parseJSONShape].[RowNum]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	 DECLARE @id VARCHAR(40)
	 DECLARE @objectShape nVARCHAR(max)
	 DECLARE @layerShape nvarchar(40)
	 DeClare @TempSetting nvarchar(max)
	 DECLARE @pos INT
	 DECLARE @pos1 INT
	 Declare @i int
	 SET @i=0
	 SET @TempSetting = @value
	 --DECLARE @SettingKey nVARCHAR(max)
	 --DECLARE @SettingKey1 nVARCHAR(max)	
	 SELECT @TempSetting = SUBSTRING(@TempSetting, 2, LEN(@TempSetting))
	 While CHARINDEX('{"Id":"', @TempSetting) > 0
		Begin
			--select @value
			SELECT @pos = CHARINDEX('{"Id":"', @TempSetting)
			SELECT @TempSetting = SUBSTRING(@TempSetting, @pos+7, LEN(@TempSetting))
			--select @value
			SELECT @pos1 = CHARINDEX('","', @TempSetting)
			SET @id = SUBSTRING(@TempSetting, 1, @pos1-1)
			--select @SettingKey
			SELECT @TempSetting = SUBSTRING(@TempSetting, @pos1, LEN(@TempSetting))
			--select @TempSetting

			SELECT @pos = CHARINDEX('","ObjectShape":"', @TempSetting)
			SELECT @TempSetting = SUBSTRING(@TempSetting, @pos+LEN('","ObjectShape":"'), LEN(@TempSetting))
			--replay
			SELECT @TempSetting=(SELECT REPLACE(@TempSetting, '\', ''));
			--select @TempSetting
			SELECT @pos1 = CHARINDEX('}}"', @TempSetting)
			--SELECT @pos1
			SET @objectShape = SUBSTRING(@TempSetting, 1, @pos1+(LEN('}}')-1))
			--select @SettingKey
			SELECT @TempSetting = SUBSTRING(@TempSetting, @pos1+(LEN('}}"')), LEN(@TempSetting))

			SELECT @pos = CHARINDEX(',"LayerShape":"', @TempSetting)
			SELECT @TempSetting = SUBSTRING(@TempSetting, @pos+LEN(',"LayerShape":"'), LEN(@TempSetting))

			SELECT @pos1 = CHARINDEX('"}', @TempSetting)
			SET @layerShape = SUBSTRING(@TempSetting, 1, @pos1-1)

			SELECT @TempSetting = SUBSTRING(@TempSetting, @pos1+(LEN('"},')), LEN(@TempSetting))

			
			INSERT INTO @returnList (Id,ObjectShape,LayerShape)
			SELECT @id,@objectShape,@layerShape
		end
	RETURN 
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="2063" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[parseJSONShape]&#xD;&#xA;(&#x9;&#xD;&#xA;&#x9;@value nvarchar(max)&#xD;&#xA;)&#xD;&#xA;RETURNS &#xD;&#xA;&#x9;@returnList TABLE (Id varchar(40),ObjectShape nvarchar(max),LayerShape nvarchar(40),RowNum int not null identity(1,1))&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[parseJSONShape].[@value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[PhanKhu]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PhanKhu].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PhanKhu].[TenPhanKhu]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PhanKhu].[DiaGioiHanhChinhCode]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PhanKhu].[Lat]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PhanKhu].[Lng]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PhanKhu].[Zoom]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PhanKhu].[ParentId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PhanKhu].[TenTimKiem]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="30" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[PhanKhuTag]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PhanKhuTag].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PhanKhuTag].[PhanKhuId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[PhanKhuTag].[TagId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="15" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[PhanTrangPhanKhu]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	DECLARE @query nvarchar(MAX), @searchTemp varchar(MAX)
	set @searchTemp = dbo.fChuyenCoDauThanhKhongDau('%' +@search+'%')
	SET @query = N'SELECT PhanKhu.*,Countries.Description as MoTaDonVi, Countries.Name as TenDonVi 
				FROM PhanKhu inner join Countries on PhanKhu.DiaGioiHanhChinhCode = Countries.Code 
				WHERE PhanKhu.TenTimKiem LIKE @search ORDER BY ' + @softBy + ' ' + @softDir +  ' OFFSET @start ROWS FETCH NEXT @pageCount ROWS ONLY;'
	EXEC sp_executesql @query,  N'@search nvarchar(max),@start int,@pageCount int',@searchTemp, @start, @pageCount
	SET @total = (SELECT COUNT(*) FROM PhanKhu WHERE TenTimKiem LIKE  @searchTemp)
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[fChuyenCoDauThanhKhongDau]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanTrangPhanKhu].[@search]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanTrangPhanKhu].[@softBy]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanTrangPhanKhu].[@softDir]" />
				</Entry>
				<Entry />
				<Entry>
					<References Name="[dbo].[PhanTrangPhanKhu].[@start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanTrangPhanKhu].[@pageCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanTrangPhanKhu].[@total]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanKhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[PhanKhu].[TenTimKiem]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PhanTrangPhanKhu].[@start]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PhanTrangPhanKhu].[@pageCount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PhanTrangPhanKhu].[@softBy]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PhanTrangPhanKhu].[@softDir]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PhanTrangPhanKhu].[@search]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[PhanTrangPhanKhu].[@total]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="825" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[PhanTrangPhanKhu]&#xD;&#xA;&#x9;@start int,&#xD;&#xA;&#x9;@pageCount int,&#xD;&#xA;&#x9;@softBy nvarchar(max),&#xD;&#xA;&#x9;@softDir nvarchar(max),&#xD;&#xA;&#x9;@search nvarchar(max),&#xD;&#xA;&#x9;@total int out&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__ThongTin__3214EC0757DCB64A]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ThongTinDoiTuongPhu].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="31" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK__ThongTin__3214EC078FB5BD49]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ThongTinVeDoiTuong].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="32" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_dbo.__MigrationHistory]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[__MigrationHistory].[MigrationId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[__MigrationHistory].[ContextKey]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[__MigrationHistory]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="20" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_dbo.AspNetRoles]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AspNetRoles].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AspNetRoles]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="21" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_dbo.AspNetUserClaims]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AspNetUserClaims].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AspNetUserClaims]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="22" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_dbo.AspNetUserLogins]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AspNetUserLogins].[LoginProvider]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AspNetUserLogins].[ProviderKey]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AspNetUserLogins].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AspNetUserLogins]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="23" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_dbo.AspNetUserRoles]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AspNetUserRoles].[UserId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AspNetUserRoles].[RoleId]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AspNetUserRoles]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="24" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_dbo.AspNetUsers]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AspNetUsers].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AspNetUsers]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="25" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Lop]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Lop].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Lop]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="29" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_PhanKhu]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[PhanKhu].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[PhanKhu]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="30" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Tag]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Tag].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Tag]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="33" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_ThongTinLatLngDoiTuong]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ThongTinLatLngDoiTuong].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="34" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SearchDoiTuong]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DECLARE @GEO GEOGRAPHY
	SET @GEO= Geography::Point(@Lat, @lng, 4326)
	select DISTINCT  Id,LopId
	INTO #TempCount from ThongTinDoiTuongChinh
	where ThongTinDoiTuongChinh.LopId in (select * from splitstringID(@layer)) and @GEO.STDistance(Geography::Point(ISNULL(Lat,0), ISNULL(Lng,0), 4326)) <= @raduis

	select #TempCount.Id as Id, ThongTinVeDoiTuong.DuLieuDoiTuong as ObjectShape,#TempCount.LopId  as LayerShape from ThongTinVeDoiTuong,#TempCount 
		   where ThongTinVeDoiTuong.ThongTinDoiTuongChinhId=#TempCount.Id
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchDoiTuong].[@lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchDoiTuong].[@lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchDoiTuong].[@layer]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[splitstringID]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchDoiTuong].[@raduis]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchDoiTuong].[#TempCount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchDoiTuong].[#TempCount].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchDoiTuong].[#TempCount].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchDoiTuong].[#TempCount].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[SearchDoiTuong].[#TempCount]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[SearchDoiTuong].[#TempCount].[Id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[SearchDoiTuong].[#TempCount].[LopId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongChinh].[LopId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchDoiTuong].[@lat]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchDoiTuong].[@lng]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchDoiTuong].[@raduis]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchDoiTuong].[@layer]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="648" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SearchDoiTuong]&#xD;&#xA;&#x9;@lat float,&#xD;&#xA;&#x9;@lng float,&#xD;&#xA;&#x9;@raduis float,&#xD;&#xA;&#x9;@layer nvarchar(max)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SearchViewDoiTuong]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DECLARE @GEO GEOGRAPHY
	SET @GEO= Geography::Point(@Lat, @lng, 4326)
	SELECT DISTINCT ThongTinDoiTuongChinh.Id,ThongTinDoiTuongChinh.Ten,ThongTinDoiTuongChinh.DiaGioiHanhChinhCode,Lop.ZoomMin INTO #temp
	  FROM Lop,ThongTinDoiTuongChinh
	  WHERE Lop.Id = ThongTinDoiTuongChinh.LopId AND Lop.[Status] = 1 AND Lop.ZoomMin <= @zoom AND Lop.ZoomMax >= @zoom 
			AND @GEO.STDistance(Geography::Point(ISNULL(Lat,0), ISNULL(Lng,0), 4326)) <= @raduis
	SELECT
		ThongTinVeDoiTuong.ThongTinDoiTuongChinhId AS Id,ThongTinVeDoiTuong.DuLieuDoiTuong AS ObjectShape,ThongTinVeDoiTuong.ThongTinDoiTuongChinhId AS LayerShape
	   FROM ThongTinVeDoiTuong, #temp
	   WHERE ThongTinVeDoiTuong.ThongTinDoiTuongChinhId = #temp.Id ORDER BY #temp.ZoomMin ASC
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchViewDoiTuong].[@lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchViewDoiTuong].[@lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[ZoomMin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchViewDoiTuong].[@zoom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[ZoomMax]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[geography]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchViewDoiTuong].[@raduis]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchViewDoiTuong].[#temp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchViewDoiTuong].[#temp].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchViewDoiTuong].[#temp].[ZoomMin]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[SearchViewDoiTuong].[#temp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[SearchViewDoiTuong].[#temp].[Id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[SearchViewDoiTuong].[#temp].[Ten]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongChinh].[Ten]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[SearchViewDoiTuong].[#temp].[DiaGioiHanhChinhCode]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[SearchViewDoiTuong].[#temp].[ZoomMin]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Lop].[ZoomMin]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchViewDoiTuong].[@lat]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchViewDoiTuong].[@lng]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchViewDoiTuong].[@raduis]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchViewDoiTuong].[@zoom]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="863" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SearchViewDoiTuong]&#xD;&#xA;&#x9;@lat float,&#xD;&#xA;&#x9;@lng float,&#xD;&#xA;&#x9;@raduis float,&#xD;&#xA;&#x9;@zoom float&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SearchZoomViewDoiTuong]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
 DECLARE
  @COUNT INT --DECLARE @GEO GEOGRAPHY
  --SET @GEO= Geography::Point(@Lat, @lng, 4326)
  SELECT DISTINCT
   ThongTinDoiTuongChinh.Id,
   ThongTinDoiTuongChinh.Ten,
   ThongTinDoiTuongChinh.DiaGioiHanhChinhCode,
   Lop.ZoomMin INTO #temp
  FROM
   Lop,
   ThongTinDoiTuongChinh
  WHERE
   Lop.ZoomMin <= @zoom
  AND Lop.ZoomMax >= @zoom
  AND Lop.Id = ThongTinDoiTuongChinh.LopId
  AND Lop.CapDiaGioiHanhChinh <> 1
  AND Lop.[Status] = 1 --and @GEO.STDistance(Geography::Point(ISNULL(Lat,0), ISNULL(Lng,0), 4326)) <= @raduis
  SET @COUNT = (SELECT COUNT(*) FROM #temp)
  IF @COUNT > 0
  BEGIN
   SELECT
    ThongTinVeDoiTuong.ThongTinDoiTuongChinhId AS Id,
    ThongTinVeDoiTuong.DuLieuDoiTuong AS ObjectShape,
    ThongTinVeDoiTuong.ThongTinDoiTuongChinhId AS LayerShape
   FROM
    ThongTinVeDoiTuong,
    #temp
   WHERE
    ThongTinVeDoiTuong.ThongTinDoiTuongChinhId = #temp.Id
   ORDER BY
    #temp.ZoomMin ASC
   END
   ELSE

   BEGIN
    SELECT
     ThongTinVeDoiTuong.ThongTinDoiTuongChinhId AS Id,
     ThongTinVeDoiTuong.DuLieuDoiTuong AS ObjectShape,
     ThongTinVeDoiTuong.ThongTinDoiTuongChinhId AS LayerShape
    FROM
     Lop,
     ThongTinDoiTuongChinh,
     ThongTinDoiTuongPhu,
     ThongTinVeDoiTuong
    WHERE
     Lop.ZoomMin <= @zoom
    AND Lop.ZoomMax >= @zoom
    AND Lop.Id = ThongTinDoiTuongChinh.LopId
    AND Lop.CapDiaGioiHanhChinh = 1
    AND ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId = ThongTinDoiTuongChinh.Id
    AND ThongTinDoiTuongChinh.Id = ThongTinVeDoiTuong.ThongTinDoiTuongChinhId
    AND ThongTinDoiTuongPhu.[Value] = '001032'
    ORDER BY Lop.ZoomMin ASC
    END
    END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[ZoomMin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchZoomViewDoiTuong].[@zoom]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[ZoomMax]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[CapDiaGioiHanhChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[Status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchZoomViewDoiTuong].[#temp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchZoomViewDoiTuong].[#temp].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SearchZoomViewDoiTuong].[#temp].[ZoomMin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[ZoomMin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[ZoomMax]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Lop].[CapDiaGioiHanhChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[SearchZoomViewDoiTuong].[#temp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[SearchZoomViewDoiTuong].[#temp].[Id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[SearchZoomViewDoiTuong].[#temp].[Ten]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongChinh].[Ten]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[SearchZoomViewDoiTuong].[#temp].[DiaGioiHanhChinhCode]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[SearchZoomViewDoiTuong].[#temp].[ZoomMin]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Lop].[ZoomMin]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchZoomViewDoiTuong].[@lat]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchZoomViewDoiTuong].[@lng]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchZoomViewDoiTuong].[@raduis]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SearchZoomViewDoiTuong].[@zoom]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1795" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SearchZoomViewDoiTuong]&#xD;&#xA;&#x9;@lat float,&#xD;&#xA;&#x9;@lng float,&#xD;&#xA;&#x9;@raduis float,&#xD;&#xA;&#x9;@zoom float&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlMultiStatementTableValuedFunction" Name="[dbo].[SplitJsonToTableShape]">
			<Property Name="ReturnTableVariable" Value="@returnList" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SplitJsonToTableShape].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SplitJsonToTableShape].[ObjectShape]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SplitJsonToTableShape].[@value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON].[NAME]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON].[StringValue]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON].[ValueType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSON].[parent_ID]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SplitJsonToTableShape].[Id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SplitJsonToTableShape].[ObjectShape]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SplitJsonToTableShape].[RowNum]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	INSERT INTO @returnList (Id,ObjectShape)
	(Select
       max(case when name='Id' then convert(varchar(50),StringValue) else '' end) as [Id],
       max(case when name='ObjectShape' then convert(nvarchar(max),StringValue) else '' end) as [ObjectShape]
	From parseJSON (@value)
	where ValueType = 'string' OR ValueType = 'boolean'
	group by parent_ID)
	
	RETURN 
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="553" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[SplitJsonToTableShape] (@value ntext)&#xD;&#xA;RETURNS &#xD;&#xA;&#x9;@returnList TABLE (Id varchar(50),ObjectShape varchar(max),RowNum int not null identity(1,1))&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SplitJsonToTableShape].[@value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[ntext]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlMultiStatementTableValuedFunction" Name="[dbo].[splitstringID]">
			<Property Name="ReturnTableVariable" Value="@returnList" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[splitstringID].[@stringToSplit]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[splitstringID].[ID]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="500" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN

 DECLARE @name NVARCHAR(255)
 DECLARE @pos INT

 WHILE CHARINDEX(',', @stringToSplit) > 0
 BEGIN
  SELECT @pos  = CHARINDEX(',', @stringToSplit)  
  SELECT @name = SUBSTRING(@stringToSplit, 1, @pos-1)

  INSERT INTO @returnList 
  SELECT @name

  SELECT @stringToSplit = SUBSTRING(@stringToSplit, @pos+1, LEN(@stringToSplit)-@pos)
 END

 INSERT INTO @returnList
 SELECT @stringToSplit

 RETURN
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="550" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[splitstringID] ( @stringToSplit VARCHAR(MAX) )&#xD;&#xA;RETURNS&#xD;&#xA; @returnList TABLE (ID [nvarchar] (500))&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[splitstringID].[@stringToSplit]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Tag]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[Ten]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[Code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[Order]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[DaSuDung]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="3" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[SuDungThoiGian]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[ThoiGian]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[TenKhongDau]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="33" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ThongTinBuildingDoiTuong]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinBuildingDoiTuong].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinBuildingDoiTuong].[ThongTinDoiTuongChinhId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinBuildingDoiTuong].[DuLieuBuilding]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="14" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ThongTinDoiTuongChinh]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongChinh].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongChinh].[Ten]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongChinh].[SoThua]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongChinh].[SoTo]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongChinh].[LopId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongChinh].[Lat]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongChinh].[Lng]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongChinh].[CauHinhDoiTuongId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongChinh].[PhanKhuId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongChinh].[Tag]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="13" />
			<AttachedAnnotation Disambiguator="8" />
			<AttachedAnnotation Disambiguator="9" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ThongTinDoiTuongPhu]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongPhu].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongPhu].[Code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongPhu].[Value]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongPhu].[Ten]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinDoiTuongPhu].[Order]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="31" />
			<AttachedAnnotation Disambiguator="27" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ThongTinLatLngDoiTuong]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinLatLngDoiTuong].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLat]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinLatLngDoiTuong].[MinLat]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLng]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinLatLngDoiTuong].[MinLng]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinLatLngDoiTuong].[Width]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinLatLngDoiTuong].[Height]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="34" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ThongTinVeDoiTuong]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinVeDoiTuong].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ThongTinVeDoiTuong].[Order]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="32" />
			<AttachedAnnotation Disambiguator="28" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdateLatLngThongTinDoiTuong]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DECLARE @temp table (id varchar(50),lat float,lng float,RowNum int not null identity(1,1))
	DECLARE @id varchar(50)
	DECLARE @lat float
	DECLARE @lng float
	DECLARE @count int,@i int
	DECLARE @check varchar(20)
	DECLARE @code nvarchar(20)
	Insert into @temp
	SELECT JSON_Value(c.value, '$.id') as id, JSON_Value(c.value, '$.lat') as lat,JSON_Value(c.value, '$.lng') as lng FROM OPENJSON(@value) as c
	SET @count = (select COUNT(*) from @temp)
	Set @i=0
	While @Count <> @i
	BEGIN
		SET @i=@i+1
		Select @id = id, @lat=lat, @lng=lng from @temp where RowNum=@i
		UPDATE [dbo].[ThongTinDoiTuongChinh]
		   SET [Lat] = @lat,[Lng] = @lng
		   WHERE [Id] = @id
		select * into #temp1 from ThongTinDoiTuongPhu where ThongTinDoiTuongChinhId = @id and (KieuDuLieu = 'city' or KieuDuLieu = 'district' or KieuDuLieu = 'ward')
		set @check = (select COUNT(*) from #temp1)
		If @check > 0
		Begin
			Set @code = (select [Value] from #temp1)
			UPDATE [dbo].[Countries] SET [Lat] = @lat,[Lng] = @lng WHERE Code = @code
		End
	END
	select count(*) from ThongTinDoiTuongChinh where Id=@id
END


--exec UpdateLatLngThongTinDoiTuong '[{"id":"d868d54a-661b-6f5f-fd0f-1397bc592f81","lat":16.04333879392302,"lng":108.22500944137572}]']]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateLatLngThongTinDoiTuong].[@temp].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateLatLngThongTinDoiTuong].[@temp].[lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateLatLngThongTinDoiTuong].[@temp].[lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateLatLngThongTinDoiTuong].[@temp].[RowNum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateLatLngThongTinDoiTuong].[#temp1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateLatLngThongTinDoiTuong].[#temp1].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Countries].[Code]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[@temp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[@temp].[id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[@temp].[lat]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[@temp].[lng]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[@temp].[RowNum]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[#temp1]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[#temp1].[Id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongPhu].[Id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[#temp1].[Code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongPhu].[Code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[#temp1].[Value]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[#temp1].[ThongTinDoiTuongChinhId]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[#temp1].[KieuDuLieu]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[#temp1].[Ten]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongPhu].[Ten]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[#temp1].[Order]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ThongTinDoiTuongPhu].[Order]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateLatLngThongTinDoiTuong].[@value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1332" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateLatLngThongTinDoiTuong]&#xD;&#xA;&#x9;@value varchar(max)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdateThongTinDoiTuong]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DECLARE @count int,@countTemp int,@i int
	DECLARE @CodeP varchar(100), @ValueP nvarchar(max),@KieuDuLieuP varchar(200),@TenP nvarchar(max)
	set @count =(select COUNT(*) from ThongTinDoiTuongChinh where Id = @Id)
	If @count > 0 --update
	Begin
		UPDATE [dbo].[ThongTinDoiTuongChinh]
		   SET [Ten] = @Ten
			  ,[SoThua] = @SoThua
			  ,[SoTo] = @SoTo
			  --,[LopId] = @LopId
			  --,[DiaGioiHanhChinhCode] = @DiaGioHanhChinh
			  ,[Lat] = -1
			  ,[Lng] = -1
			  ,[CauHinhDoiTuongId] = @CauHinhDoiTuong
			  ,Tag=@Tag
		 WHERE [Id] = @Id
		 --delete thong tin phu
		 DELETE FROM [dbo].[ThongTinDoiTuongPhu]  WHERE [ThongTinDoiTuongPhu].ThongTinDoiTuongChinhId = @Id
		 --insert thong tin phu
		 select * Into #temp from dbo.parseJSONInforShap(@ListThongTin)
		 set @countTemp = (select COUNT(*) from #temp)
		 set @i =1
		 while @countTemp >= @i
		 Begin
			Select @TenP=Ten,@CodeP=Code, @KieuDuLieuP=KieuDuLieu,@ValueP=DuLieuMacDinh from #temp where RowNum = @i
			INSERT INTO [dbo].[ThongTinDoiTuongPhu]([Id],[Code],[Value],[ThongTinDoiTuongChinhId],[KieuDuLieu],[Ten])
			VALUES (NEWID(),@CodeP,@ValueP,@Id,@KieuDuLieuP,@TenP)
			Set @i=@i+1
		 end
		 select COUNT(*) from [ThongTinDoiTuongChinh] where id =@Id
	 End
	 Else --insert
	 Begin
		INSERT INTO [dbo].[ThongTinDoiTuongChinh]([Id],[Ten],[SoThua],[SoTo],[LopId],[DiaGioiHanhChinhCode],[Lat],[Lng],[CauHinhDoiTuongId],[PhanKhuId],Tag)
			 VALUES(@Id,@Ten,@SoThua,@SoTo,@LopId,@DiaGioHanhChinh,-1,-1,@CauHinhDoiTuong,@PhanKhuId,@Tag)
	    --insert thong tin phu
		 select * Into #tempI from dbo.parseJSONInforShap(@ListThongTin)
		 set @countTemp = (select COUNT(*) from #tempI)
		 set @i =1
		 while @countTemp >= @i
		 Begin
			--DECLARE @CodeP varchar(100), @ValueP nvarchar(max),@KieuDuLieuP varchar(200),@TenP nvarchar(max)
			Select @TenP=Ten,@CodeP=Code, @KieuDuLieuP=KieuDuLieu,@ValueP=DuLieuMacDinh from #tempI where RowNum = @i
			INSERT INTO [dbo].[ThongTinDoiTuongPhu]([Id],[Code],[Value],[ThongTinDoiTuongChinhId],[KieuDuLieu],[Ten])
			VALUES (NEWID(),@CodeP,@ValueP,@Id,@KieuDuLieuP,@TenP)
			Set @i=@i+1
		 end
		 select COUNT(*) from [ThongTinDoiTuongChinh] where id =@Id
	 End
	END


	--exec UpdateThongTinDoiTuong NEWID(),N'hoa',10,20,'11','3','11',N'[{"Ten":"Tỉnh","Code":"tinh","KieuDuLieu":"city","DuLieuMacDinh":""},{"Ten":"Điện tích","Code":"dien_tich","KieuDuLieu":"float","DuLieuMacDinh":"0.0"},{"Ten":"Dân số","Code":"dan_so","KieuDuLieu":"float","DuLieuMacDinh":"0.0"}]']]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[@Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[@Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[SoThua]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[@SoThua]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[SoTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[@SoTo]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[CauHinhDoiTuongId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[@CauHinhDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Tag]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[@Tag]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[@ListThongTin]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSONInforShap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[#temp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[#temp].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[#temp].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[#temp].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[#temp].[DuLieuMacDinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[#temp].[RowNum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[PhanKhuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[@LopId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[@DiaGioHanhChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[@PhanKhuId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[#tempI]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[#tempI].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[#tempI].[Code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[#tempI].[KieuDuLieu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[#tempI].[DuLieuMacDinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinDoiTuong].[#tempI].[RowNum]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[UpdateThongTinDoiTuong].[#temp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateThongTinDoiTuong].[#temp].[Ten]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[parseJSONInforShap].[Ten]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateThongTinDoiTuong].[#temp].[Code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[parseJSONInforShap].[Code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateThongTinDoiTuong].[#temp].[KieuDuLieu]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[parseJSONInforShap].[KieuDuLieu]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateThongTinDoiTuong].[#temp].[DuLieuMacDinh]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[parseJSONInforShap].[DuLieuMacDinh]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateThongTinDoiTuong].[#temp].[RowNum]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[parseJSONInforShap].[RowNum]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[UpdateThongTinDoiTuong].[#tempI]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateThongTinDoiTuong].[#tempI].[Ten]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[parseJSONInforShap].[Ten]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateThongTinDoiTuong].[#tempI].[Code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[parseJSONInforShap].[Code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateThongTinDoiTuong].[#tempI].[KieuDuLieu]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[parseJSONInforShap].[KieuDuLieu]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateThongTinDoiTuong].[#tempI].[DuLieuMacDinh]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[parseJSONInforShap].[DuLieuMacDinh]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[UpdateThongTinDoiTuong].[#tempI].[RowNum]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[parseJSONInforShap].[RowNum]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinDoiTuong].[@Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinDoiTuong].[@Ten]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinDoiTuong].[@SoThua]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinDoiTuong].[@SoTo]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinDoiTuong].[@LopId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinDoiTuong].[@DiaGioHanhChinh]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinDoiTuong].[@CauHinhDoiTuong]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinDoiTuong].[@PhanKhuId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinDoiTuong].[@Tag]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinDoiTuong].[@ListThongTin]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2804" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateThongTinDoiTuong]&#xD;&#xA;&#x9;@Id varchar(50),&#xD;&#xA;&#x9;@Ten nvarchar(max),&#xD;&#xA;&#x9;@SoThua int,&#xD;&#xA;&#x9;@SoTo int,&#xD;&#xA;&#x9;@LopId varchar(50),&#xD;&#xA;&#x9;@DiaGioHanhChinh nvarchar(20),&#xD;&#xA;&#x9;@CauHinhDoiTuong varchar(50),&#xD;&#xA;&#x9;@PhanKhuId varchar(50),&#xD;&#xA;&#x9;@Tag varchar(max),&#xD;&#xA;&#x9;@ListThongTin nvarchar(max)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdateThongTinLatLngDoiTuong]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DECLARE @count int
	Set @count = (select COUNT(*) from ThongTinLatLngDoiTuong where Id = @id)
	If @count > 0
	Begin
		UPDATE [dbo].[ThongTinLatLngDoiTuong]
		   SET [MaxLat] = @MaxLat
			  ,[MinLat] = @MinLat
			  ,[MaxLng] = @MaxLng
			  ,[MinLng] = @MinLng
			  ,[Width] = @Width
			  ,[Height] = @Height
		 WHERE [Id] = @id
	End
	Else
	Begin 
		INSERT INTO [dbo].[ThongTinLatLngDoiTuong]([Id],[MaxLat],[MinLat],[MaxLng],[MinLng],[Width],[Height])
		VALUES (@id,@MaxLat,@MinLat,@MaxLng,@MinLng,@Width,@Height)
	End 
	select COUNT(*) from ThongTinLatLngDoiTuong where Id = @id
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@MaxLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MinLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@MinLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@MaxLng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MinLng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@MinLng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[Width]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@Width]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[Height]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@Height]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@MaxLat]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@MinLat]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@MaxLng]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@MinLng]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@Width]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinLatLngDoiTuong].[@Height]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="814" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateThongTinLatLngDoiTuong]&#xD;&#xA;&#x9;@id varchar(50),&#xD;&#xA;&#x9;@MaxLat varchar(200),&#xD;&#xA;&#x9;@MinLat varchar(200),&#xD;&#xA;&#x9;@MaxLng varchar(200),&#xD;&#xA;&#x9;@MinLng varchar(200),&#xD;&#xA;&#x9;@Width float,&#xD;&#xA;&#x9;@Height float&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[UpdateThongTinVeDoiTuong]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	DECLARE @temp table (Id varchar(50),ObjectShape nvarchar(max),LayerShape nvarchar(40),RowNum int)
	DECLARE @id varchar(50)
	DECLARE @objectShape nvarchar(max)
	DECLARE @layerShape nvarchar(50)
	DECLARE @count int,@i int
	Insert into @temp
	Select * FROM dbo.parseJSONShape(@value)
	SET @count = (select COUNT(*) from @temp)
	Set @i=0
	While @Count <> @i
	BEGIN
		SET @i=@i+1
		SET @id = (Select Id from @temp where RowNum=@i)
		SET @objectShape = (Select ObjectShape from @temp where RowNum=@i)
		SET @layerShape = (Select LayerShape from @temp where RowNum=@i)
		--IF((Select COUNT(*) from MapShape where IdShape = @id) <= 0)
		IF((Select COUNT(*) from ThongTinVeDoiTuong where Id = @id) <= 0)
		Begin
			INSERT INTO [dbo].[ThongTinVeDoiTuong]
			   ([Id],[DuLieuDoiTuong],ThongTinDoiTuongChinhId)
			VALUES(@id,@objectShape,@layerShape)
		END
		ELSE
		Begin
			UPDATE [dbo].[ThongTinVeDoiTuong]
			   SET [DuLieuDoiTuong] = @objectShape,
				   ThongTinDoiTuongChinhId = @layerShape
			 WHERE [Id] = @id
		END
	END
	select COUNT(*) from @temp
END



--alter PROCEDURE [dbo].[UpdateMapShape] 
--	@value nvarchar(max)
--AS
--BEGIN
--	DECLARE @temp table (Id varchar(50),ObjectShape nvarchar(max),LayerShape nvarchar(40),RowNum int)
--	DECLARE @id varchar(50)
--	DECLARE @objectShape nvarchar(max)
--	DECLARE @layerShape nvarchar(50)
--	DECLARE @count int,@i int
--	Insert into @temp
--	Select * FROM dbo.parseJSONShape(@value)
--	SET @count = (select COUNT(*) from @temp)
--	Set @i=0
--	While @Count <> @i
--	BEGIN
--		SET @i=@i+1
--		SET @id = (Select Id from @temp where RowNum=@i)
--		SET @objectShape = (Select ObjectShape from @temp where RowNum=@i)
--		SET @layerShape = (Select LayerShape from @temp where RowNum=@i)
--		IF((Select COUNT(*) from MapShape where IdShape = @id) <= 0)
--		Begin
--			INSERT INTO [dbo].[MapShape]
--			   ([IdShape],[ObjectShape],LayerShape)
--			VALUES(@id,@objectShape,@layerShape)
--		END
--		ELSE
--		Begin
--			UPDATE [dbo].[MapShape]
--			   SET [ObjectShape] = @objectShape,
--				   LayerShape = @layerShape
--			 WHERE [IdShape] = @id
--		END
--	END
--	select @Count
--END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinVeDoiTuong].[@value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parseJSONShape]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinVeDoiTuong].[@temp].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinVeDoiTuong].[@temp].[RowNum]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinVeDoiTuong].[@temp].[ObjectShape]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateThongTinVeDoiTuong].[@temp].[LayerShape]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[UpdateThongTinVeDoiTuong].[@temp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[UpdateThongTinVeDoiTuong].[@temp].[Id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[UpdateThongTinVeDoiTuong].[@temp].[ObjectShape]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="IsMax" Value="True" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[UpdateThongTinVeDoiTuong].[@temp].[LayerShape]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="40" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[UpdateThongTinVeDoiTuong].[@temp].[RowNum]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpdateThongTinVeDoiTuong].[@value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="2273" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateThongTinVeDoiTuong] &#xD;&#xA;&#x9;@value nvarchar(max)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[XacDinhToaDo]">
			<Property Name="BodyScript">
				<Value><![CDATA[
    BEGIN
        SELECT  ThongTinDoiTuongChinh.Ten ,
                ThongTinDoiTuongChinh.Id ,
                ThongTinDoiTuongChinh.DiaGioiHanhChinhCode ,
                SUBSTRING(MinLat, CHARINDEX(',', MinLat) + 1, LEN(MinLat)) AS MinLat ,
                SUBSTRING(MinLat, 0, CHARINDEX(',', MinLat)) AS LngOfMinLat ,
                SUBSTRING(MaxLat, CHARINDEX(',', MaxLat) + 1, LEN(MaxLat)) AS MaxLat ,
                SUBSTRING(MaxLat, 0, CHARINDEX(',', MaxLat)) AS LngOfMaxLat ,
                SUBSTRING(MaxLng, CHARINDEX(',', MaxLng) + 1, LEN(MaxLng)) AS LatOfMaxLng ,
                SUBSTRING(MaxLng, 0, CHARINDEX(',', MaxLng)) AS MaxLng ,
                SUBSTRING(MinLng, CHARINDEX(',', MinLng) + 1, LEN(MinLng)) AS LatOfMinLng ,
                SUBSTRING(MinLng, 0, CHARINDEX(',', MinLng)) AS MinLng ,
                ThongTinVeDoiTuong.DuLieuDoiTuong
        FROM    ( ( dbo.ThongTinDoiTuongChinh
                    INNER JOIN ThongTinLatLngDoiTuong ON ThongTinDoiTuongChinh.Id = ThongTinLatLngDoiTuong.Id
                  )
                  INNER JOIN ThongTinDoiTuongPhu ON ThongTinDoiTuongChinh.Id = ThongTinDoiTuongPhu.ThongTinDoiTuongChinhId
                )
                INNER JOIN ThongTinVeDoiTuong ON ThongTinVeDoiTuong.ThongTinDoiTuongChinhId = ThongTinDoiTuongChinh.Id
        WHERE   @lat BETWEEN SUBSTRING(MinLat, CHARINDEX(',', MinLat) + 1,
                                       LEN(MinLat))
                     AND     SUBSTRING(MaxLat, CHARINDEX(',', MaxLat) + 1,
                                       LEN(MaxLat))
                AND @lng BETWEEN SUBSTRING(MinLng, 0, CHARINDEX(',', MinLng))
                         AND     SUBSTRING(MaxLng, 0, CHARINDEX(',', MaxLng))
                AND ThongTinDoiTuongPhu.Code LIKE 'XA/PHUONG'
    END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[ThongTinDoiTuongChinhId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[Ten]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongChinh].[DiaGioiHanhChinhCode]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MinLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MaxLng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinLatLngDoiTuong].[MinLng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[XacDinhToaDo].[@lat]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[XacDinhToaDo].[@lng]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ThongTinDoiTuongPhu].[Code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[XacDinhToaDo].[@lat]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[XacDinhToaDo].[@lng]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1902" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[XacDinhToaDo]&#xD;&#xA;    @lat NVARCHAR(MAX) ,&#xD;&#xA;    @lng NVARCHAR(MAX)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlColumn].[dbo].[ChiTietCauHinhDoiTuong].[BatBuoc].[MS_Description]">
			<Property Name="Value">
				<Value><![CDATA[N'Cho phép để trống hay không']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[BatBuoc]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlColumn].[dbo].[ChiTietCauHinhDoiTuong].[KieuDuLieu].[MS_Description]">
			<Property Name="Value">
				<Value><![CDATA[N'Kiểu dữ liệu đầu vào note: số, chữ, tỉnh ...']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ChiTietCauHinhDoiTuong].[KieuDuLieu]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlColumn].[dbo].[Lop].[CapDiaGioiHanhChinh].[MS_Description]">
			<Property Name="Value">
				<Value><![CDATA[N'Lấy level bên bảng của country']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[Lop].[CapDiaGioiHanhChinh]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlColumn].[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong].[MS_Description]">
			<Property Name="Value">
				<Value><![CDATA[N'Lưu string json (geojson)']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ThongTinVeDoiTuong].[DuLieuDoiTuong]" />
				</Entry>
			</Relationship>
		</Element>
	</Model>
</DataSchemaModel>